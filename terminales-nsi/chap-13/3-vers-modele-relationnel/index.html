<!DOCTYPE html>
<html lang="fr" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Du schéma entités/associations au schéma relationnel - Accueil</title>
  <meta name="description" content="Chapitre 13,3">
  <meta name="author" content="David Latreyte"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Accueil",
    
    "url": "https:\/\/dlatreyte.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/dlatreyte.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io\/terminales-nsi\/chap-13\/3-vers-modele-relationnel\/",
          "name": "Du schéma entités associations au schéma relationnel"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "David Latreyte"
  },
  "headline": "Du schéma entités\/associations au schéma relationnel",
  "description" : "Concepts relationnels Modèle relationnel Le modèle relationnel tire son nom de la notion de relation mathématique entre les éléments. Chacun de ces éléments peut prendre des valeurs dans un ensemble défini.\nPar exemple, les appareils électroménagers d\u0026rsquo;une cuisine peuvent être contenus dans l\u0026rsquo;ensemble des valeurs suivantes : {Réfrigérateur, Cuisinière, Hotte, Robot, Lave-vaisselle}. On peut, par ailleurs, aussi considérer l\u0026rsquo;ensemble des couleurs que peuvent prendre ces appareils : {Rouge, Vert, Bleu, Jaune, Blanc, Noir, Rose}.",
  "inLanguage" : "fr",
  "wordCount":  3561 ,
  "datePublished" : "2021-02-02T04:31:48",
  "dateModified" : "2021-02-02T04:31:48",
  "image" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
  "keywords" : [ "" ],
  "mainEntityOfPage" : "https:\/\/dlatreyte.github.io\/terminales-nsi\/chap-13\/3-vers-modele-relationnel\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/dlatreyte.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Du schéma entités/associations au schéma relationnel" />
<meta property="og:description" content="Chapitre 13,3">
<meta property="og:image" content="https://dlatreyte.github.io/first_page.jpg" />
<meta property="og:url" content="https://dlatreyte.github.io/terminales-nsi/chap-13/3-vers-modele-relationnel/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Accueil" />

  <meta name="twitter:title" content="Du schéma entités/associations au schéma relationnel" />
  <meta name="twitter:description" content="Chapitre 13,3">
  <meta name="twitter:image" content="https://dlatreyte.github.io/first_page.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@@DLatreyte" />
  <meta name="twitter:creator" content="@@DLatreyte" />
  <link href='https://dlatreyte.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.87.0" />
  <link rel="alternate" href="https://dlatreyte.github.io/index.xml" type="application/rss+xml" title="Accueil"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://dlatreyte.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/syntax.css" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://dlatreyte.github.io">Accueil</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Infos" href="../../../about/infos">Infos</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="../../../">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Cours</a>
              <div class="navlinks-children">
                
                  <a href="../../../premieres-pc">1ère Spé. PC</a>
                
                  <a href="../../../premieres-nsi">1ère Spé. NSI</a>
                
                  <a href="../../../terminales-pc">Terminale Spé. PC</a>
                
                  <a href="../../../terminales-nsi">Terminale Spé. NSI</a>
                
                  <a href="../../../terminales-es">Terminale Ens. Scientifique</a>
                
                  <a href="../../../superieur">... dans le supérieur</a>
                
              </div>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Culture</a>
              <div class="navlinks-children">
                
                  <a href="../../../culture">Articles</a>
                
                  <a href="../../../programmes">Programmes</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Catégories" href="../../../categories">Catégories</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="../../../tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Accueil" href="https://dlatreyte.github.io">
            <img class="avatar-img" src="https://dlatreyte.github.io/first_page.jpg" alt="Accueil" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="terminales-nsi-heading">
              
                <h1>Du schéma entités/associations au schéma relationnel</h1>
              
              
                <hr class="small">
              
              
                
                  <h2 class="terminales-nsi-subheading">Chapitre 13,3</h2>
                
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post" auto_numbering >
          
            <nav id="TableOfContents">
  <ul>
    <li><a href="#concepts-relationnels">Concepts relationnels</a>
      <ul>
        <li><a href="#modèle-relationnel">Modèle relationnel</a></li>
      </ul>
    </li>
    <li><a href="#notion-de-clé-dune-relation-et-dépendance-fonctionnelle">Notion de clé d&rsquo;une relation et dépendance fonctionnelle</a></li>
  </ul>

  <ul>
    <li><a href="#opérations-relationnelles-de-base">Opérations relationnelles de base</a>
      <ul>
        <li><a href="#projection">Projection</a></li>
        <li><a href="#sélection-ou-restriction">Sélection (ou restriction)</a></li>
        <li><a href="#division-cartésienne">Division Cartésienne</a></li>
      </ul>
    </li>
    <li><a href="#création-dun-alias-renommage">Création d&rsquo;un alias, renommage</a></li>
    <li><a href="#jointure">Jointure</a></li>
    <li><a href="#fonctions-de-calculs-et-dagrégation">Fonctions de calculs et d&rsquo;agrégation</a>
      <ul>
        <li><a href="#fonctions-de-calculs">Fonctions de calculs</a></li>
        <li><a href="#agrégats-ou-groupage">Agrégats ou groupage</a></li>
      </ul>
    </li>
    <li><a href="#marque"><strong>Marque</strong></a>
      <ul>
        <li><a href="#restriction-sur-le-résultat-dune-requête-agrégative">Restriction sur le résultat d&rsquo;une requête agrégative</a></li>
      </ul>
    </li>
  </ul>
</nav>
          
        
        <hr />

        <h2 id="concepts-relationnels">Concepts relationnels</h2>
<h3 id="modèle-relationnel">Modèle relationnel</h3>
<p>Le modèle relationnel tire son nom de la notion de <em>relation</em>
mathématique entre les éléments. Chacun de ces éléments peut prendre des
valeurs dans un ensemble défini.</p>
<p>Par exemple, les appareils électroménagers d&rsquo;une cuisine peuvent être
contenus dans l&rsquo;ensemble des valeurs suivantes : {<em>Réfrigérateur</em>,
<em>Cuisinière</em>, <em>Hotte</em>, <em>Robot</em>, <em>Lave-vaisselle</em>}. On peut, par ailleurs,
aussi considérer l&rsquo;ensemble des couleurs que peuvent prendre ces
appareils : {<em>Rouge</em>, <em>Vert</em>, <em>Bleu</em>, <em>Jaune</em>, <em>Blanc</em>, <em>Noir</em>, <em>Rose</em>}.
Les combinaisons possibles entre les appareils et les couleurs sont au
nombre de 35. Parmi toutes ces combinaisons possibles, on effectue une
sélection qui représente la description d&rsquo;une cuisine :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">(Réfrigérateur, Rouge)
(Robot, Mauve)
(Cuisinière, Jaune)
(Lave-vaisselle, Rouge)
</code></pre></td></tr></table>
</div>
</div><p>Cet ensemble de couples de valeurs liées entre elles, que l&rsquo;on nomme
<strong>tuples</strong> dans le modèle relationnel, représente la
<strong>relation</strong> entre les éléments « Appareil » et « Couleur ». On
désigne les éléments constitutifs de ces tuples par les termes
<strong>attributs</strong> (ou <strong>champs</strong>).</p>
<p>On peut écrire formellement la relation à partir de son schéma
relationnel : <code>ma_cuisine(Appareil, Couleur)</code>. Cette écriture représente le <strong>schéma relationnel</strong> de
la relation <code>ma_cuisine</code>. Les valeurs énoncées précédemment pour les champs
représentent leurs <strong>domaines</strong>, c&rsquo;est à dire <em>les ensembles de toutes
les valeurs possibles pour un champ</em>.</p>
<p>On voit, à partir de cet exemple, qu&rsquo;il est nécessaire de préciser les
concepts qui seront utilisés dans la suite de ce chapitre.</p>
<div class="note tip">
  <em>Un <strong>schéma relationnel</strong> $R$ est formé par un
ensemble fini de $n$ attributs $U = { u_1, \ldots, u_n }$. On le note
$R [u_1, \ldots, u_n]$ ou $R [U]$.</em>
</div>
<ol>
<li>Quel est le schéma relationnel de la relation <code>ma_cuisine</code> ?</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>Le schéma relationnel de la relation <code>ma_cuisine</code> est <code>ma_cuisine(Appareil, Couleur)</code>.</p>
</details>
<hr />
<div class="note tip">
  <em>L'<strong>arité</strong> (ou <strong>degré</strong>) d&rsquo;un schéma relationnel $R$ est égale à son <em>nombre d&rsquo;attributs</em>.</em>
</div>
<ol start="2">
<li>Quelle est l&rsquo;arité du schéma <code>ma_cuisine(Appareil, Couleur)</code> ?</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>L&rsquo;arité du schéma <code>ma_cuisine(Appareil, Couleur)</code> est 2.</p>
</details>
<hr />
<div class="note tip">
  <em>Un <strong>schéma de base de donnée</strong> $R_B$ est un ensemble
fini de $p$ schémas relationnels. On le note
$R_B { R_1 [U_1], \ldots, R_p [U_p] }$.</em>
</div>
<ol start="3">
<li>On donne le schéma de base de donnée suivant :\</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Rb { Lecteur(Num_carte, Nom, Num_établissement), 
     Établissement(Num_établissement, Ville, Nom) }
</code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>De combien de schémas relationnels ce schéma de base de données est-il constitué ?</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>Ce schéma de base de donnée et constitué de deux schéma relationnel : <code>Lecteur</code> et <code>Établissement</code>.</p>
</details>
<hr />
<ol start="4">
<li></li>
</ol>
<p>$$
\begin{aligned}
R_B &amp; { \text{Lecteur} \left( \text{Numero_carte}
, \text{Nom}, \text{Numero_Etablissement} \right) ,\cr
&amp;  \text{Établissement} \left( \text{Num_Établissement}, \text{Ville}, \text{Nom_Etablissement} \right) }
\end{aligned}
$$</p>
<p>::: {.definition}
<strong>Definition 5</strong>. <em>Un <strong>n-uplet</strong> (ou tuple) $u$ sur $U$ est une
fonction de $U$ dans $\ensuremath{\operatorname{dom}}$. Si $u$ est un
n-uplet sur $U$ et $A \epsilon U$, $u (A)$ est la valeur de $u$ pour
l&rsquo;attribut $A$.</em></p>
<p><em>L&rsquo;écriture d&rsquo;un n-uplet peut préciser les attributs : (Appareil :
Robot, Couleur : Mauve).</em>
:::</p>
<p>::: {.definition}
<strong>Definition 6</strong>. <em>Une <strong>relation</strong>, ou <strong>instance d&rsquo;un schéma
relationnel</strong> $R [U]$, est un ensemble fini $I$ de n-uplets sur $U$. La
cardinalité de la relation est égale à celle de l&rsquo;ensemble $I$.</em></p>
<p><em>Une <strong>relation</strong> est donc totalement décrite par :</em></p>
<ul>
<li>
<p><em>le schéma relationnel ;</em></p>
</li>
<li>
<p><em>les domaines des différents champs ;</em></p>
</li>
<li>
<p><em>les tuples ou n-uplets qui la constituent.</em></p>
</li>
</ul>
<p><em>On représente une relation par une table, correspondant à la notion de
tableau. Les tuples correspondent aux lignes et les attributs de la
relation aux colonnes.</em></p>
<p><em><strong>Une relation étant constituée d&rsquo;un ensemble de n-uplets, ceux-ci
doivent y être tous différents.</strong></em>
:::</p>
<p>La relation (cf. tableau 1) est d&rsquo;arité 2 et de cardinalité 4.</p>
<pre><code>**Appareil**    **Couleur**
</code></pre>
<hr>
<p>Réfrigérateur       Rouge
Robot           Mauve
Cuisinière        Jaune
Lave-vaisselle      Rouge</p>
<p>: <em>Relation</em></p>
<p>::: {.definition}
<strong>Definition 7</strong>. <em>Une <strong>base de données</strong> $B$, ou <strong>instance d&rsquo;un
schéma de base de données</strong> $R_B$, est une fonction, dont l&rsquo;ensemble de
définition est un schéma de base de données $R_B$, telle que pour tout
$r
\epsilon R_B$, $B (r)$ est une relation.</em></p>
<p><em>Une base de données est donc un ensemble de relations reliées entre
elles par des liens sémantiques.</em>
:::</p>
<h2 id="notion-de-clé-dune-relation-et-dépendance-fonctionnelle">Notion de clé d&rsquo;une relation et dépendance fonctionnelle</h2>
<p>Lorsqu&rsquo;on utilise une base de données, il est nécessaire d&rsquo;accéder à un
enregistrement par le contenu d&rsquo;un ou de plusieurs champs. On nomme
<em><strong>clé</strong></em> d&rsquo;une relation un champ, ou un ensemble de champs, qui permet
d'<em>identifier précisément un enregistrement.</em> Une relation peut
comprendre plusieurs clés possibles ; ce sont les <em>clés candidates</em>.</p>
<p>::: {.definition}
<strong>Definition 8</strong>. <em>On appelle <strong>clé primaire</strong> d&rsquo;une relation la clé
minimale parmi toutes les clés candidates de la relation. Une clés
primaire doit toujours contenir une valeur et celle-ci doit être unique
pour chacun des enregistrements de la relation</em>
:::</p>
<p>Dans l&rsquo;exemple de la relation , le choix de la clé n&rsquo;est pas simple
car :</p>
<ul>
<li>
<p>Plusieurs appareils différents peuvent être de même couleur ;</p>
</li>
<li>
<p>Une cuisine peut comporter plusieurs réfrigérateurs, robots, ...</p>
</li>
</ul>
<p>Pourrait-on envisager d&rsquo;utiliser le couple (appareil, couleur) comme clé
? La réponse est toujours négative, les réfrigérateurs présents dans la
pièce peuvent être de même couleur.</p>
<p>Pour désigner une clé (primaire), il faut donc prendre en compte le «
sens » des données contenues dans la relation. <em>Si aucun champ ne peut
constituer une clé, il est nécessaire d&rsquo;introduire un champ formel, tel
qu&rsquo;un identifiant numérique.</em></p>
<p>::: {.definition}
<strong>Definition 9</strong>. <em>Une <strong>dépendance fonctionnelle</strong> existe entre deux
ensembles de champs si les valeurs contenues dans l&rsquo;un des ensembles de
champs permettent de déterminer les valeurs contenues dans l&rsquo;autre
ensemble.</em>
:::</p>
<p>Les dépendances fonctionnelles expriment la relation de hiérarchie qui
existe entre les champs.</p>
<p>::: {#relation-lecteur}
<strong>Numero_carte</strong>    <strong>Nom</strong>    <strong>Age</strong>   <strong>Ville</strong>       <strong>Etablissement</strong></p>
<hr>
<pre><code>      1             Henri       10        Paris        Université Sorbonne
      2           Stanislas     34        Paris        Université Jussieu
      3           Henriette     44        Lyon              CHU Bron
      4           Dominique     19        Nancy        Université Poincaré
      5           Isabelle      56        Nancy               INPL
      6            Olivier      51      Marseille   Université Saint Charles
      7             Henri       98        Paris        Université Sorbonne
      8            Jérôme       23        Nancy               INPL
      9           Laurence      34      Bordeaux    Université Victor Segalen
      10          Christian     41        Paris                ENS
      11           Antoine      16      Marseille   Université Saint Charles
      12          Laurence      34        Paris        Université Jussieu
</code></pre>
<p>: <em>Relation lecteur(Numero_carte, Nom, Age, Ville,
Etablissement)</em>[[relation-lecteur]]{#relation-lecteur
label=&ldquo;relation-lecteur&rdquo;}
:::</p>
<p>Si l&rsquo;on examine les données de la relation , <strong>Tableau
<a href="#relation-lecteur">1</a>{reference-type=&ldquo;ref&rdquo;
reference=&ldquo;relation-lecteur&rdquo;}.</strong>, on remarque :</p>
<ul>
<li>
<p>qu&rsquo;il ne peut y avoir de dépendance fonctionnelle entre les
ensembles (Ville, Etablissement) et (Nom, Age). En effet, le couple
(Laurence, 34) correspond aux deux couples (Paris, Université de
Jussieu) et (Bordeaux, Université Victor Segalen).</p>
<p><em>À un couple (Ville, Etablissement) ne correspond donc pas un unique
couple (Nom, Age).</em></p>
</li>
<li>
<p>que si l&rsquo;on suppose qu&rsquo;un établissement n&rsquo;est situé que dans une
seule ville, il existe une dépendance fonctionnelle entre le champ «
Etablissement » et le champ « Ville ».</p>
<p><em>À une valeur du champ « Etablissement » correspond une et une seule
valeur du champ « Ville ». Cette valeur n&rsquo;est cependant pas unique.</em></p>
</li>
<li>
<p>La valeur du champ « Numero_carte » est unique pour chacun des
enregistrements. Ses valeurs sont identifiantes pour tous les champs
de la relation. Chaque champ dépend fonctionnellement de ce champ.
Ses valeurs ne sont jamais vides, c&rsquo;est une clé candidate !</p>
<p>Comme c&rsquo;est aussi la seule clé de la relation, ce champ constitue la
<strong>clé primaire</strong>.</p>
</li>
</ul>
<p>Tous les champs qui ne font pas partie d&rsquo;une clé candidate d&rsquo;une
relation possèdent des dépendances fonctionnelles avec cette clé.</p>
<p><em>On indique la clé primaire d&rsquo;un schéma relationnel en soulignant le
champ, dans le schéma relationnel</em> : lecteur([Numero_carte]{.ul}, Nom,
Age, Ville, Etablissement).</p>
<h1 id="langage-sql">Langage SQL</h1>
<p>SQL est un langage déclaratif qui permet d&rsquo;interroger une base de
données par l&rsquo;intermédiaire d&rsquo;un SGBD sans se soucier de la
représentation interne (physique) des données, de leur localisation, des
chemins d&rsquo;accès ou des algorithmes nécessaires. À ce titre, il s&rsquo;adresse
à une large communauté d&rsquo;utilisateurs potentiels, pas seulement aux
informaticiens. On peut l&rsquo;utiliser de manière interactive, mais
également en association avec des interfaces graphiques, ou des langages
de programmation (comme Python).</p>
<p>Le langage SQL est composé de différents sous-ensembles :</p>
<dl>
<dt>LMD</dt>
<dd>
<p>Langage de Manipulation des données (DML, Data Manipulation
Language).</p>
<p>Il permet la <em>manipulation</em> et la <em>mise à jour des tables</em>, et est
composé de quatre ordres fondamentaux : , , , .</p>
</dd>
<dt>LDD</dt>
<dd>
<p>Langage de Définition des Données (DDL, Data Definition Language).</p>
<p>Il permet la <em>définition</em> et la <em>mise à jour du schéma relationnel</em>
de la base de données (mode administration). Il est composé des
ordres suivants : , , , , , , .</p>
</dd>
<dt>LCD</dt>
<dd>
<p>Langage de Contrôle des Données (DCL, Data Control Language).</p>
<p>Il permet de définir les contraintes d&rsquo;intégrité, de gérer les accès
et les autorisations (administration). Il est composé des ordres : ,
, .</p>
</dd>
</dl>
<p>Le programme cette année se limite au langage de manipulation des
données et plus particulièrement à l&rsquo;ordre .</p>
<h1 id="opérations-de-lalgèbre-relationnelle-et-traductions-en-langage-sql">Opérations de l&rsquo;algèbre relationnelle et traductions en langage SQL</h1>
<p>La manipulation de données dans le modèle relationnel se fait à l&rsquo;aide
d&rsquo;opérations formelles reposant sur des concepts mathématiques issus de
la théorie des ensembles : c&rsquo;est <strong>l&rsquo;algèbre relationnelle</strong>.</p>
<p>::: {.definition}
<strong>Definition 10</strong>. <em>L'<strong>algèbre relationnelle</strong> consiste en un petit
nombre d&rsquo;opérations de base qui, <strong>appliquées à des relations,
produisent de nouvelles relations</strong>. Ces opérations peuvent être
composées pour construire des expressions algébriques de plus en plus
complexes.</em>
:::</p>
<h2 id="opérations-relationnelles-de-base">Opérations relationnelles de base</h2>
<h3 id="projection">Projection</h3>
<p>::: {.definition}
<strong>Definition 11</strong>. <em>La <strong>projection</strong> consiste à filtrer certains
attributs de la relation, ce qui donne au résultat une relation de
<strong>degré</strong> inférieur à celui de la relation de départ.</em></p>
<p>*Pour $I$ une relation de schéma relationnel $I [A_{1 }, \ldots
, A_n]$, si $1 \leqslant i &lt; j \leqslant n$,
$$\pi_{A_i, \ldots, A_j} (I) = { (A_i : t (A_i), \ldots , A_j : t
(A_j)) | t \epsilon I }$$*
:::</p>
<pre><code>**Nom**    **Ville**
</code></pre>
<hr>
<pre><code> Henri       Paris
</code></pre>
<p>Stanislas     Paris
Henriette     Lyon
Dominique     Nancy
Isabelle      Nancy
Olivier    Marseille
Henri       Paris
Jérôme       Nancy
Laurence    Bordeaux
Christian     Paris
Antoine    Marseille
Laurence      Paris</p>
<p>: <em>Projection</em> *$\pi_{\text{Nom,Ville}}
(\text{lecteur})$*</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p><code>SELECT``\ </code>{=latex}<code>Nom,Ville``\ </code>{=latex}<code>FROM``\ </code>{=latex}<code>lecteur``\ </code>{=latex}<code>;</code></p>
</dd>
</dl>
<h3 id="sélection-ou-restriction">Sélection (ou restriction)</h3>
<p>::: {.definition}
<strong>Definition 12</strong>. <em>La <strong>sélection</strong> consiste à filtrer des
enregistrements de la relation en fonction d&rsquo;une <strong>condition</strong>. Le
résultat d&rsquo;une sélection est une relation de <strong>même degré</strong> mais de
<strong>cardinalité différente</strong>.</em></p>
<p>*Pour $I$ une relation de schéma relationnel $I [A_{1 }, \ldots
, A_n]$ et $a \epsilon \ensuremath{\operatorname{dom}} (A_i)$,
$$\sigma_{A_i = a} (I) = { t \epsilon I | t (A_i) = a }$$*
:::</p>
<p><strong>Numero_carte</strong>   <strong>Nom</strong>    <strong>Age</strong>   <strong>Ville</strong>      <strong>Etablissement</strong></p>
<hr>
<pre><code>      5           Isabelle     56        Nancy               INPL
      6           Olivier      51      Marseille   Université Saint Charles
      7            Henri       98        Paris       Université Sorbonne
</code></pre>
<p>: *Selection $\sigma_{\text{Age} &gt; 50} (\text{lecteur})$*</p>
<p><strong>Numero_carte</strong>   <strong>Nom</strong>   <strong>Age</strong>   <strong>Ville</strong>    <strong>Etablissement</strong></p>
<hr>
<pre><code>      1            Henri      10        Paris     Université Sorbonne
      7            Henri      98        Paris     Université Sorbonne
</code></pre>
<p>: *Selection $\sigma_{\text{Nom} = \text{&lsquo;&lsquo;Henri&rsquo;'}}
(\text{lecteur})$*</p>
<p>Intuitivement, dans une représentation de type table, une sélection
conserve uniquement les enregistrements vérifiant la condition.</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p><code>SELECT``\ </code>{=latex}<code>*``\ </code>{=latex}<code>FROM``\ </code>{=latex}<code>lecteur``\ </code>{=latex}<code>WHERE``\ </code>{=latex}<code>Age``\ </code>{=latex}<code>&gt;``\ </code>{=latex}<code>50``\ </code>{=latex}<code>;</code></p>
</dd>
</dl>
<h4 id="affichage-de-tous-les-enregistrements-dune-relation">Affichage de tous les enregistrements d&rsquo;une relation :</h4>
<h4 id="composition-dune-sélection-et-dune-projection">Composition d&rsquo;une sélection et d&rsquo;une projection :</h4>
<p>Une sélection sur une relation formant une nouvelle relation, il est
possible de « passer » cette dernière en argument d&rsquo;une opération de
projection. La composition se note :
$$\pi_{\text{champs}}  (\sigma_{\text{contrainte}}  (\text{relation}))$$</p>
<p><strong>Nom</strong>    <strong>Ville</strong></p>
<hr>
<p>Isabelle     Nancy
Olivier    Marseille
Henri       Paris</p>
<p>: *Combinaison d&rsquo;une sélection et d&rsquo;une projection
$\pi_{\text{Nom}, \text{Ville}} (\sigma_{\text{Age} &gt; 50}
(\text{lecteur}))$*</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p><code>SELECT``\ </code>{=latex}<code>Nom,Ville``\ </code>{=latex}<code>FROM``\ </code>{=latex}<code>lecteur``\ </code>{=latex}<code>WHERE``\ </code>{=latex}<code>Age&gt;50``\ </code>{=latex}<code>;</code></p>
</dd>
</dl>
<h4 id="opérateurs-de-comparaison-et-connecteurs-logiques-de-sql">Opérateurs de comparaison et connecteurs logiques de SQL</h4>
<p>Ci-dessous sont présentés quelques opérateurs et connecteurs qui
apparaissent très fréquemment dans les requêtes SQL. Pour une liste plus
exhaustive et davantage d&rsquo;exemples, consulter <a href="http://sql.sh">http://sql.sh</a>.</p>
<p><strong>Opérateur</strong>   <strong>Signification</strong></p>
<hr>
<pre><code>    $=$              Égal
   $&lt; &gt;$           Différent
    \&lt;             Inférieur
    $&gt;$            Supérieur
   $&lt; =$       Inférieur ou égal
   $&gt; =$       Supérieur ou égal

 **Signification**
</code></pre>
<hr>
<pre><code> Appartient à un intervalle
 Appartient à un ensemble
 Teste si le champ contient une donnée
 Compare des chaînes de caractères

  **Nom**        **Instrument**
</code></pre>
<hr>
<p>Jaco Pastorius   Basse électrique
Bill Evans          Piano</p>
<pre><code> Appareil      Couleur        Nom            Instrument
</code></pre>
<hr>
<p>Réfrigérateur    rouge    Jaco Pastorius   Basse électrique
Réfrigérateur    rouge      Bill Evans          Piano
Robot        mauve    Jaco Pastorius   Basse électrique
Robot        mauve      Bill Evans          Piano
Cuisinière      jaune    Jaco Pastorius   Basse électrique
Cuisinière      jaune      Bill Evans          Piano</p>
<p>: <em>$\text{ma_cuisine} \times \text{musicien}$</em></p>
<p>L&rsquo;exemple précédent a été choisi de façon à illustrer que le résultat
d&rsquo;un produit cartésien peut n&rsquo;avoir aucun sens dans la réalité.</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p>il n&rsquo;est pas nécessaire d&rsquo;utiliser un quelconque mot clé ; il faut
requérir toutes les colonnes depuis les deux tables.</p>
</dd>
</dl>
<h3 id="division-cartésienne">Division Cartésienne</h3>
<p>La division cartésienne est le pendant du produit cartésien, tout comme
la division euclidienne est le pendant du produit sur des entiers : si
on note $A$ et $B$ deux relations (ou tables), alors $A \div B$ est la
« plus grande » relation (au sens de l&rsquo;inclusion) telle que le produit
cartésien avec $B$ redonne (presque) $A$. Formellement, c&rsquo;est la plus
grande relation telle qu&rsquo;il existe une relation $C$ vérifiant :
$$[(A \div B) \times B] \cup C = A \text{ \ \ \ \ et \ \ \ \ } [(A \div B)
\times B] \cap C = \varnothing$$ Il n&rsquo;existe pas en langage SQL
d&rsquo;opérateur permettant d&rsquo;implémenter directement la division
cartésienne.</p>
<h2 id="création-dun-alias-renommage">Création d&rsquo;un alias, renommage</h2>
<p>Il peut être pénible d&rsquo;utiliser, dans les requêtes, des noms de champs
définis de manière complexe, ou, tout simplement, nommés de façon pas
très parlante. On peut alors définir un <em>alias</em> pour renommer
<em>temporairement</em> un champ (et même une table).</p>
<p>::: {.definition}
<strong>Definition 13</strong>. <em>Un renommage pour un ensemble fini d&rsquo;attributs U est
une fonction injective de U dans l&rsquo;ensemble att que l&rsquo;on notera
$A_1 \rightarrow B_1, &hellip;, A_n
\rightarrow B_n$.</em></p>
<p>*L&rsquo;opération de renommage
$\rho_{A_1 \rightarrow B_1, &hellip;, A_n \rightarrow
B_n}$ transforme une relation $I$ sur $A_1, &hellip;, A_n$ en une relation
sur $B_1, &hellip;, B_n$ de de telle sorte que :
$$\rho_{A_1 \rightarrow B_1, &hellip;, A_n \rightarrow B_n} (I) = \left{ v
\text{sur} B_1, \ldots, B_n  | \exists u \epsilon I, v (B_i \right) = u
(A_i)  \text{pour tout } i \epsilon [1 , n]  }$$*
:::</p>
<p>La création d&rsquo;un alias permet de faciliter grandement la lecture d&rsquo;une
requête. Cette opération se note :</p>
<p><strong>Badge</strong>   <strong>Nom</strong>    <strong>Ville</strong></p>
<hr>
<pre><code>   7        Henri       Paris
   6       Olivier    Marseille
   5       Isabelle     Nancy
</code></pre>
<p>: *$\rho_{\text{Numero_carte} \rightarrow \text{Badge}}
(\pi_{\text{Numero_carte}, \text{Nom}, \text{Ville}} (\sigma_{\text{Age} &gt;
50} (\text{lecteur})))$*</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p>on utilise le mot clé , immédiatement après le nom du champ, pour
introduire l&rsquo;alias.</p>
</dd>
</dl>
<p>Dans l&rsquo;exemple précédent, on a illustré l&rsquo;utilisation de la clause «  »
qui permet de trier les résultats suivant l&rsquo;ordre (<em>par défaut
ascendant</em>) défini par certains champs (ici le mot clé indique que c&rsquo;est
l&rsquo;ordre descendant qui a été choisi).</p>
<h2 id="jointure">Jointure</h2>
<p><em>La <strong>jointure</strong> est l&rsquo;opération fondamentale de l&rsquo;algèbre relationnelle
qui permet d&rsquo;exprimer le sens du lien entre les relations, dans le monde
réel</em>. Conformément au programme, on ne présente ici que l&rsquo;opération de
<em><strong>jointure symétrique</strong></em>.</p>
<p>::: {.definition}
<strong>Definition 14</strong>. <em>Une <strong>jointure</strong> permet d&rsquo;associer plusieurs
relations dans une même requête. Le résultat de cette requête est une
relation de <strong>degré supérieur</strong> aux degrés de chacune des relations de
départ. L&rsquo;opération de jointure est <strong>symétrique</strong> et <strong>associative</strong>.</em></p>
<p><em>La liaison entre les relations s&rsquo;effectue par le contenu commun d&rsquo;un
champ (<strong>champs de jointure</strong>).</em></p>
<p>*La jointure des relations et selon une certaine contrainte se note :
$$\text{table1} \vartriangleright \hspace{-0.5em}
\vartriangleleft_{\text{contrainte}} \text{table2}  \text{ \ \ \ ou \ \<br>
}  \text{table1} [\ensuremath{\operatorname{contrainte}}]  \text{table2}$$*
:::</p>
<p>Il est bien évidemment possible d&rsquo;<em>associer une jointure à une
projection et une sélection</em>. <em>Ces associations doivent être prises en
compte lors de la détermination du <strong>degré</strong> et de la <strong>cardinalité</strong> de
la relation finale</em>.</p>
<p>::: {#tab:jointure}
<strong>Numero_carte</strong>    <strong>Nom</strong>    <strong>Num_Etablissement</strong></p>
<hr>
<pre><code>      1             Henri               1
      2           Stanislas             2
      3           Henriette             1
</code></pre>
<p>: <em>Relation Lecteur_bis($\underline{\text{Numero_carte}}$, Nom,
Numero_Etablissement)</em>[[tab:jointure]]{#tab:jointure
label=&ldquo;tab:jointure&rdquo;}
:::</p>
<p><strong>Num_Etablissement</strong>   <strong>Ville</strong>   <strong>Nom_Etablissement</strong></p>
<hr>
<pre><code>         1               Paris      Université Jussieu
         2               Lyon            CHU Bron
         3               Nancy      Université Poincaré
         4               Paris      Université Sorbonne
</code></pre>
<p>: <em>Relation Etablissement($\underline{\text{Num_Etablissement}}$,
Ville, Nom_Etablissement)</em></p>
<p>Même si l&rsquo;on ne dispose pas du modèle conceptuel associé, on constate
que l&rsquo;on peut relier les deux relations par le champ «  ». Les
informations concernant l&rsquo;établissement de la relation «  » sont
stockées dans la relation «  » dont la clé est le champ «  »<em>. Pour
obtenir la liste des lecteurs ainsi que les informations concernant leur
établissement, on effectue une jointure entre ces relations sur le champ
«  ».</em></p>
<p>Schéma de la base de données prenant en compte la jointure : Dans la
relation l&rsquo;attribut est une <em>clé étrangère</em>.</p>
<p><strong>Numero_carte</strong>    <strong>Nom</strong>    <strong>Num_Etablissement</strong>   <strong>Num_Etablissement</strong>   <strong>Ville</strong>   <strong>Nom_Etablissement</strong></p>
<hr>
<pre><code>      1             Henri               1                       1               Paris      Université Jussieu
      2           Stanislas             2                       2               Lyon            CHU Bron
      3           Henriette             1                       1               Paris      Université Jussieu
</code></pre>
<p>: $\text{Lecteur_bis} \vartriangleright \hspace{-0.5em}
\vartriangleleft_{\text{Num_Etablissement} = \text{Num_Etablissement}}
\text{Etablissement}$</p>
<p>Le champ «  » figure deux fois dans la relation résultat de la jointure
car la première occurrence provient de la relation «  » alors que la
seconde provient de la relation «  ».</p>
<p>Afin de ne conserver qu'<em>une occurrence des <strong>champs de jointure</strong></em>, on
peut réaliser une <em><strong>projection</strong></em> :</p>
<p><strong>Numero_carte</strong>    <strong>Nom</strong>    <strong>Num_Etablissement</strong>   <strong>Ville</strong>   <strong>Nom_Etablissement</strong></p>
<hr>
<pre><code>      1             Henri               1               Paris      Université Jussieu
      2           Stanislas             2               Lyon            CHU Bron
      3           Henriette             1               Paris      Université Jussieu
</code></pre>
<p>:  $\pi_{\text{Numero_carte}, \text{Nom}, \text{Num_Etablissement},
\text{Ville}, \text{Nom_Etablissement}}  \left( \text{Lecteur_bis}
\vartriangleright \hspace{-0.5em}
\vartriangleleft_{\text{Num_Etablissement} = \text{Num_Etablissement}}
\text{Etablissement} \right)$</p>
<p>Cette opération, $\text{jointure} + \text{projection}$, est parfois
appelée <em>jointure naturelle</em>.</p>
<p>Les champs de jointure ne doivent pas nécessairement être nommés à
l&rsquo;identique. Nous verrons comment les différentier dans la partie « En
langage SQL », page .</p>
<p><em>On peut considérer l&rsquo;opération de jointure comme une sélection sur le
produit cartésien des deux relations.</em> On ne conserve que les lignes
dont le contenu du champ sur lequel s&rsquo;effectue la jointure est égal.</p>
<p><strong>Numero_carte</strong>    <strong>Nom</strong>    <strong>Num_Etablissement</strong>   <strong>Num_Etablissement</strong>   <strong>Ville</strong>   <strong>Nom_Etablissement</strong></p>
<hr>
<pre><code>      1             Henri               1                       1               Paris      Université Jussieu
      1             Henri               1                       2               Lyon            CHU Bron
      1             Henri               1                       3               Nancy      Université Poincaré
      1             Henri               1                       4               Paris      Université Sorbonne
      2           Stanislas             2                       1               Paris      Université Jussieu
      2           Stanislas             2                       2               Lyon            CHU Bron
      2           Stanislas             2                       3               Nancy      Université Poincaré
      2           Stanislas             2                       4               Paris      Université Sorbonne
      3           Henriette             1                       1               Paris      Université Jussieu
      3           Henriette             1                       2               Lyon            CHU Bron
      3           Henriette             1                       3               Nancy      Université Poincaré
      3           Henriette             1                       4               Paris      Université Sorbonne
</code></pre>
<p>: *$\text{Lecteur_bis} \vartriangleright \hspace{-0.5em}
\vartriangleleft_{\text{Num_Etablissement} = \text{Num_Etablissement}}
\text{Etablissement}$* *Les lignes grisées sont celles qui sont
sélectionnées lors d&rsquo;une jointure.*</p>
<dl>
<dt>En langage SQL</dt>
<dd>
<p>il existe deux façons de réaliser une opération de jointure en SQL :</p>
<ul>
<li>
<p>la première est basée sur l&rsquo;idée qu'<em>une opération de jointure
peut être considérée comme une sélection sur le produit
cartésien des deux relations</em> :</p>
<p><em>Avec une projection :</em></p>
<p>Le traitement de la requête n&rsquo;est cependant pas, dans ce cas,
optimal au niveau du SGBD.</p>
</li>
<li>
<p>la seconde méthode utilise l&rsquo;opérateur de jointure  :</p>
<p><em>Avec une projection :</em></p>
</li>
</ul>
<p>On remarque qu'<em>un champ est défini de façon unique grâce à la
concaténation du nom de la relation et de celui du champ</em> :
.[[champ-nom-unique]]{#champ-nom-unique label=&ldquo;champ-nom-unique&rdquo;}</p>
<p>Si les champs portent des noms différents, il n&rsquo;est pas nécessaire
de préciser de quelle relation ils sont issus.</p>
</dd>
</dl>
<h2 id="fonctions-de-calculs-et-dagrégation">Fonctions de calculs et d&rsquo;agrégation</h2>
<p>Une règle, dans le domaine des bases de données, est que tout ce qui
peut se calculer ne doit pas être stocké dans la base. <em>On évite ainsi
la perte de place et l&rsquo;incohérence qui peut découler du stockage
d&rsquo;informations redondantes</em>.</p>
<h3 id="fonctions-de-calculs">Fonctions de calculs</h3>
<p>Le langage SQL ne possède pas d&rsquo;instruction d&rsquo;itération ; il possède
cependant des <em>fonctions simples de traitement des données d&rsquo;une
colonne</em> (les calculs plus complexes doivent être effectués à l&rsquo;aide
d&rsquo;un langage de programmation comme Python).</p>
<p><strong>Fonction</strong>  <strong>Opération</strong></p>
<hr>
<pre><code>             Comptage du nombre d'enregistrements de la table
             Maximum des éléments d'une colonne
             Minimum des éléments d'une colonne
             Moyenne des éléments d'une colonne
             Somme des éléments d'une colonne
</code></pre>
<p>: <em>Fonctions statistiques de SQL</em></p>
<dl>
<dt>Détermination de l&rsquo;age moyen des lecteurs</dt>
<dd>
</dd>
<dt>Comptage du nombre de lecteurs</dt>
<dd>
<p>Dans le cas de la fonction , il n&rsquo;est pas nécessaire de préciser le
champ puisque cette fonction s&rsquo;applique à la relation toute entière.</p>
</dd>
</dl>
<h3 id="agrégats-ou-groupage">Agrégats ou groupage</h3>
<p>::: {.definition}
<strong>Definition 15</strong>. <em>Les opérations d'« agrégation » (ou de groupage)
regroupent les enregistrements d&rsquo;une relation par valeurs contenues dans
une colonne.</em></p>
<p><em>On applique généralement des opérations de calcul sur les
« sous-tables » ainsi créées.</em>
:::</p>
<p><strong>NumVoit</strong>   <strong>Marque</strong>   <strong>Type</strong>   <strong>Couleur</strong></p>
<hr>
<pre><code>    1         Peugeot       404         Rouge
    2         Citroen        SM         Noire
    3           Opel         GT        Blanche
    4         Peugeot       403        Blanche
    5         Renault      Alpine       Rose
    6         Renault     Floride       Bleue
    7         Peugeot       806        Blanche
</code></pre>
<p>: <em>Relation Voiture(NumVoit,Marque,Type,Couleur)</em></p>
<dl>
<dt>Affichage des différentes marques</dt>
<dd>
<p>Pour réaliser cette opération avec SQL, on utilise le mot clé suivi
du nom de la colonne sur laquelle s&rsquo;effectue l&rsquo;agrégat.</p>
<p><code>SELECT``\ </code>{=latex}<code>Marque``\ </code>{=latex}<code>FROM``\ </code>{=latex}<code>Voiture``\ </code>{=latex}<code>GROUP``\ </code>{=latex}<code>BY``\ </code>{=latex}<code>Marque;</code></p>
</dd>
</dl>
<h2 id="marque"><strong>Marque</strong></h2>
<pre><code>Peugeot
Citroen
  Opel
Renault
</code></pre>
<p>: <em>Différentes marques de voitures</em></p>
<dl>
<dt>Affichage du nombre de voitures des différentes marques</dt>
<dd>
<p>Lors de cette opération, la fonction est appliquée à chaque
« sous-tables » créée.</p>
<p><code>SELECT``\ </code>{=latex}<code>Marque,``\ </code>{=latex}<code>COUNT(*)``\ </code>{=latex}<code>AS``\ </code>{=latex}<code>Compte``\ </code>{=latex}<code>FROM``\ </code>{=latex}<code>Voiture``\ </code>{=latex}<code>GROUP``\ </code>{=latex}<code>BY``\ </code>{=latex}<code>Marque``\ </code>{=latex}<code>;</code></p>
</dd>
</dl>
<p><strong>Marque</strong>   <strong>Compte</strong></p>
<hr>
<pre><code>Peugeot         3
Citroen         1
  Opel          1
Renault         2
</code></pre>
<p>: <em>Comptage du nombre de voitures, pour chaque marque</em></p>
<dl>
<dt>Affichage de l&rsquo;age moyen des lecteurs, par université de la relation</dt>
<dd>
</dd>
</dl>
<h3 id="restriction-sur-le-résultat-dune-requête-agrégative">Restriction sur le résultat d&rsquo;une requête agrégative</h3>
<p>Le résultat de l&rsquo;opération de groupage peut lui-même être filtré : on
effectue une sélection des lignes par rapport au contenu des colonnes
obtenues dans la table résultat de la recherche groupée.</p>
<dl>
<dt>Calcul du nombre de voitures par marque dont le nombre est supérieur à 1</dt>
<dd>
<p><code>SELECT``\ </code>{=latex}<code>Marque,``\ </code>{=latex}<code>COUNT(*)``\ </code>{=latex}<code>AS``\ </code>{=latex}<code>Compte</code><br>
<code>FROM``\ </code>{=latex}<code>Voiture</code><br>
<code>GROUP``\ </code>{=latex}<code>BY``\ </code>{=latex}<code>Marque</code><br>
<code>HAVING``\ </code>{=latex}<code>Compte``\ </code>{=latex}<code>&gt;``\ </code>{=latex}<code>1``\ </code>{=latex}<code>;</code></p>
</dd>
</dl>
<p><strong>Marque</strong>   <strong>Compte</strong></p>
<hr>
<pre><code>Peugeot         3
Renault         2
</code></pre>
<p>: <em>Comptage du nombre de voitures, pour chaque marque, si le nombre
est supérieur à 1</em></p>
<p><em>Le mot clé permet d&rsquo;effectuer une sélection sur le résultat de
l&rsquo;opération de groupage. Le mot clé opère une sélection sur les
enregistrements de la table avant l&rsquo;opération de groupage.</em></p>
<dl>
<dt>Calcul du nombre de voitures, par marque, dont la couleur n&rsquo;est pas « Rouge »</dt>
<dd>
<p><code>SELECT``\ </code>{=latex}<code>Marque,``\ </code>{=latex}<code>COUNT(*)``\ </code>{=latex}<code>AS``\ </code>{=latex}<code>Compte</code><br>
<code>FROM``\ </code>{=latex}<code>Voiture</code><br>
<code>WHERE``\ </code>{=latex}<code>NOT``\ </code>{=latex}<code>(Couleur``\ </code>{=latex}<code>=``\ </code>{=latex}<code>’Rouge’)</code><br>
<code>GROUP``\ </code>{=latex}<code>BY``\ </code>{=latex}<code>Marque</code></p>
</dd>
</dl>
<p> </p>


        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                
              </div>
            </section>
        

        
          
          
        
      </article>


      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://dlatreyte.github.io/terminales-nsi/chap-13/1-introduction-bases-de-donnees/" data-toggle="tooltip" data-placement="top" title="Introduction aux bases de données">&larr; Post précédent</a>
            </li>
          
          
            <li class="next">
              <a href="https://dlatreyte.github.io/terminales-nsi/chap-13/2-entite-association/" data-toggle="tooltip" data-placement="top" title="Le modèle Entités/Associations">Post suivant &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:david.latreyte@louismassignon.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/DLatreyte" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/@DLatreyte" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/latreyte-david-917852b2" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/agdavgablou" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://dlatreyte.github.io">David Latreyte</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2021
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://dlatreyte.github.io">Accueil</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Carbure avec <a href="https://gohugo.io">Hugo v0.87.0</a>&nbsp;&bull;&nbsp; Avec le Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapté de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://dlatreyte.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://dlatreyte.github.io/js/load-photoswipe.js"></script>









<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/copy-tex.min.js" integrity="sha512-DJT2Gf9zoglFWNuxgFcMZ3zi9Ra9GPDxpw9/8kyQ6cji+SOaLlV1A49Its53eLZlGfb4WjwRCptEUdNju6Wxgw==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/mathtex-script-type.min.js" integrity="sha512-2c9WyrhBiLmhhuJeAEmai4Uh9O+bjCRVsKaFkbj2vCLsJ3aTI0Bx2r0+gRPiqjnmNKATzzsjQGgmQXXEOERmmQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/mhchem.min.js" integrity="sha512-ndr34OWlb/uvrgXcrqKXv4YUB42kRFQi9cJ+s+alNEvNBKYyIlO970xmSWYV3vNKsrT1rwW/leiBEaZxcCwjwA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/render-a11y-string.min.js" integrity="sha512-SqjsWHpIJhclCK0YMrCV7qCKarjj6qF9ViYOldWgdJtELSOG+Jth6iKNhdMSwRAPNzKgGsU7jiE1B6YdK967tw==" crossorigin="anonymous"></script>
<script>
  renderMathInElement(document.body,
    {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    }
  );

  var inlineMathArray = document.querySelectorAll("script[type='math/tex']");
  for (var i = 0; i < inlineMathArray.length; i++) {
      var inlineMath = inlineMathArray[i];
      var tex = inlineMath.innerText || inlineMath.textContent;
      var replaced = document.createElement("span");
      replaced.innerHTML = katex.renderToString(tex, {displayMode: false});
      inlineMath.parentNode.replaceChild(replaced, inlineMath);
  }

  var displayMathArray = document.querySelectorAll("script[type='math/tex; mode=display']");
  for (var i = 0; i < displayMathArray.length; i++) {
      var displayMath = displayMathArray[i];
      var tex = displayMath.innerHTML;
      var replaced = document.createElement("span");
      replaced.innerHTML = katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
      displayMath.parentNode.replaceChild(replaced, displayMath);
  }

</script>


    
  </body>
</html>




<!DOCTYPE html>
<html lang="fr" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

 


      <title>Problème du rendu de monnaie - Physique, Chimie et Informatique</title>

  <meta name="description" content="Énoncé du problème
Un commerçant cherche à rendre la monnaie à ses clients de façon optimale, c&rsquo;est-à-dire avec le nombre minimal de pièces et de billets.
Dans ce problème,

On suppose que les clients ne donnent que des sommes entières en euros (pas de centimes pour simplifier) ;
Les valeurs des pièces et billets à disposition sont : 1, 2, 5, 10, 20, 50, 100, 200 et 500. On suppose que l&rsquo;on a autant d&rsquo;exemplaires que nécessaire de chaque pièce et billet ;
Dans la suite, afin de simplifier, on désigne par « pièces » à la fois les pièces et les billets.

Algorithme glouton
Un client nous achète un objet qui coûte 53 euros. Il paye avec un billet de 200 euros. Il faut donc lui rendre 147 euros, par exemple un billet de 100, deux billets de 20, un billet de 5 et une pièce de 2."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Accueil",
    
    "url": "https:\/\/dlatreyte.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/dlatreyte.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io\/terminales-nsi\/programmation-dynamique\/2-rendu-monnaie\/",
          "name": "Problème du rendu de monnaie"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "Problème du rendu de monnaie",
  "description" : "Énoncé du problème Un commerçant cherche à rendre la monnaie à ses clients de façon optimale, c\u0026rsquo;est-à-dire avec le nombre minimal de pièces et de billets.\nDans ce problème,\nOn suppose que les clients ne donnent que des sommes entières en euros (pas de centimes pour simplifier) ; Les valeurs des pièces et billets à disposition sont : 1, 2, 5, 10, 20, 50, 100, 200 et 500. On suppose que l\u0026rsquo;on a autant d\u0026rsquo;exemplaires que nécessaire de chaque pièce et billet ; Dans la suite, afin de simplifier, on désigne par « pièces » à la fois les pièces et les billets. Algorithme glouton Un client nous achète un objet qui coûte 53 euros. Il paye avec un billet de 200 euros. Il faut donc lui rendre 147 euros, par exemple un billet de 100, deux billets de 20, un billet de 5 et une pièce de 2.\n",
  "inLanguage" : "fr",
  "wordCount":  2376 ,
  "datePublished" : "2021-02-28T05:28:54\u002b04:00",
  "dateModified" : "2021-02-28T05:28:54\u002b04:00",
  "image" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
  "keywords" : [ "Programmation dynamique" ],
  "mainEntityOfPage" : "https:\/\/dlatreyte.github.io\/terminales-nsi\/programmation-dynamique\/2-rendu-monnaie\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/dlatreyte.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>


<meta property="og:title" content="Problème du rendu de monnaie" />
<meta property="og:description" content="Énoncé du problème
Un commerçant cherche à rendre la monnaie à ses clients de façon optimale, c&rsquo;est-à-dire avec le nombre minimal de pièces et de billets.
Dans ce problème,

On suppose que les clients ne donnent que des sommes entières en euros (pas de centimes pour simplifier) ;
Les valeurs des pièces et billets à disposition sont : 1, 2, 5, 10, 20, 50, 100, 200 et 500. On suppose que l&rsquo;on a autant d&rsquo;exemplaires que nécessaire de chaque pièce et billet ;
Dans la suite, afin de simplifier, on désigne par « pièces » à la fois les pièces et les billets.

Algorithme glouton
Un client nous achète un objet qui coûte 53 euros. Il paye avec un billet de 200 euros. Il faut donc lui rendre 147 euros, par exemple un billet de 100, deux billets de 20, un billet de 5 et une pièce de 2.">
<meta property="og:image" content="https://dlatreyte.github.io/first_page.jpg" />
<meta property="og:url" content="https://dlatreyte.github.io/terminales-nsi/programmation-dynamique/2-rendu-monnaie/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Accueil" />

  <meta name="twitter:title" content="Problème du rendu de monnaie" />
  <meta name="twitter:description" content="Énoncé du problème
Un commerçant cherche à rendre la monnaie à ses clients de façon optimale, c&rsquo;est-à-dire avec le nombre minimal de pièces et de billets.
Dans ce problème,

On suppose que les …">
  <meta name="twitter:image" content="https://dlatreyte.github.io/first_page.jpg" />
  <meta name="twitter:card" content="summary_large_image" />
  <link href='https://dlatreyte.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.135.0">
  <link rel="alternate" href="https://dlatreyte.github.io/index.xml" type="application/rss+xml" title="Accueil"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.7/dist/katex.min.css" integrity="sha384-3UiQGuEI4TTMaFmGIZumfRPtfKQ3trwQE2JgosJxCnGmQpL/lJdjpcHkaaFwHlcI" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.4.1/dist/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous"><link rel="stylesheet" href="https://dlatreyte.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/syntax.css" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">


  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Activer la navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://dlatreyte.github.io/">Accueil</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Infos" href="../../../about/infos">Infos</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="../../../">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" role="button" tabindex="0">Cours</a>
              <div class="navlinks-children">
                
                  <a href="../../../premieres-pc">1ère Spé. PC</a>
                
                  <a href="../../../terminales-pc">Terminale Spé. PC</a>
                
                  <a href="../../../terminales-nsi">Terminale Spé. NSI</a>
                
                  <a href="../../../terminales-es">Terminale Ens. Scientifique</a>
                
                  <a href="../../../superieur">... dans le supérieur</a>
                
              </div>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent" role="button" tabindex="0">Culture</a>
              <div class="navlinks-children">
                
                  <a href="../../../culture">Physique-Chimie</a>
                
                  <a href="../../../programmation">Programmation</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Catégories" href="../../../categories">Catégories</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="../../../tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Accueil" href="https://dlatreyte.github.io/">
            <img class="avatar-img" src="https://dlatreyte.github.io/first_page.jpg" alt="Accueil" />
           
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="terminales-nsi-heading">
              
                <h1>Problème du rendu de monnaie</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post" auto_numbering>
        
        <nav id="TableOfContents">
  <ul>
    <li><a href="#énoncé-du-problème">Énoncé du problème</a></li>
    <li><a href="#algorithme-glouton">Algorithme glouton</a></li>
    <li><a href="#algorithme-de-force-brute">Algorithme de force brute</a>
      <ul>
        <li><a href="#compléments">Compléments</a></li>
      </ul>
    </li>
    <li><a href="#programmation-dynamique-mémoïsation">Programmation dynamique (mémoïsation)</a></li>
    <li><a href="#programmation-dynamique-méthode-tabulaire">Programmation dynamique (méthode tabulaire)</a></li>
    <li><a href="#en-résumé">En résumé</a></li>
  </ul>
</nav>
        

        <hr />

        <h2 id="énoncé-du-problème">Énoncé du problème</h2>
<p>Un commerçant cherche à rendre la monnaie à ses clients <strong>de façon optimale</strong>, c&rsquo;est-à-dire avec le <strong>nombre minimal de pièces et de billets</strong>.</p>
<p>Dans ce problème,</p>
<ul>
<li>On suppose que les clients ne donnent que des sommes entières en euros (pas de centimes pour simplifier) ;</li>
<li>Les valeurs des pièces et billets à disposition sont : 1, 2, 5, 10, 20, 50, 100, 200 et 500. On suppose que l&rsquo;on a autant d&rsquo;exemplaires que nécessaire de chaque pièce et billet ;</li>
<li>Dans la suite, afin de simplifier, on désigne par « pièces » à la fois les pièces et les billets.</li>
</ul>
<h2 id="algorithme-glouton">Algorithme glouton</h2>
<p>Un client nous achète un objet qui coûte 53 euros. Il paye avec un billet de 200 euros. Il faut donc lui rendre 147 euros, par exemple un billet de 100, deux billets de 20, un billet de 5 et une pièce de 2.</p>
<p>Afin de <strong>minimiser le nombre de pièces à rendre</strong>, on peut suivre la stratégie suivante :</p>
<ul>
<li>On commence par rendre la pièce de plus grande valeur possible ;</li>
<li>On déduit cette valeur de la somme (encore) à rendre ;</li>
<li>On recommence, jusqu&rsquo;à obtenir une somme nulle.</li>
</ul>
<p>En procédant ainsi, <strong>on résout le problème étape par étape</strong> et <strong>un choix optimal est effectué à chacune de ces étapes</strong> (la pièce de plus grande valeur). <em>Cet algorithme fait parti de la catégorie des <strong>algorithmes gloutons</strong> : chercher la solution optimale à partir d&rsquo;optima locaux.</em></p>
<!-- <div class="note warning">
  Le corrigé se trouve à cette adresse :
<a class="remote" href="https://repl.it/@dlatreyte/rendudemonnaie" target="_blank"><a href="https://repl.it/@dlatreyte/rendudemonnaie">https://repl.it/@dlatreyte/rendudemonnaie</a></a>
</div>
 -->
<!--
1. Importer le module typing au début du fichier :

```python
from typing import List
```
-->
<ol>
<li>Préparer le code suivant et étudier sa structure :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># valeurs des pièces</span>
</span></span><span class="line"><span class="cl">    <span class="n">pieces</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">100</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">prix</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&#34;Quel est le prix ? &#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">client</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&#34;Combien le client donne-t-il ? &#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">a_rendre</span> <span class="o">=</span> <span class="n">somme_a_rendre</span><span class="p">(</span><span class="n">prix</span><span class="p">,</span> <span class="n">client</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">comment</span> <span class="o">=</span> <span class="n">pieces_a_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">reponse</span> <span class="o">=</span> <span class="p">[</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">comment</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2"> piece(s) de </span><span class="si">{</span><span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="si">}</span><span class="s2">&#34;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">))]</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Je dois rendre : </span><span class="si">{</span><span class="n">a_rendre</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;Je donne donc : </span><span class="si">{</span><span class="n">reponse</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Définir la fonction <code>somme_a_rendre</code> dont la spécification est :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">somme_a_rendre</span><span class="p">(</span><span class="n">prix</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">montant_client</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine la somme à rendre à partir du prix et du montant donné par
</span></span></span><span class="line"><span class="cl"><span class="s2">    le client.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">somme_a_rendre</span><span class="p">(</span><span class="n">prix</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">montant_client</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine la somme à rendre à partir du prix et
</span></span></span><span class="line"><span class="cl"><span class="s2">    du montant donné par le client.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">montant_client</span> <span class="o">-</span> <span class="n">prix</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<ol start="3">
<li>Définir la fonction <code>pieces_a_rendre</code> dont la spécification est :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine les pièces (et leur nombre) à choisir pour rendre la somme
</span></span></span><span class="line"><span class="cl"><span class="s2">    passée en argument.
</span></span></span><span class="line"><span class="cl"><span class="s2">    Utilise la division euclidienne et le modulo de façon à pouvoir
</span></span></span><span class="line"><span class="cl"><span class="s2">    traiter tous les cas.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine les pièces (et leur nombre) à choisir 
</span></span></span><span class="line"><span class="cl"><span class="s2">    pour rendre la somme passée en argument.
</span></span></span><span class="line"><span class="cl"><span class="s2">    
</span></span></span><span class="line"><span class="cl"><span class="s2">    Utilise la division euclidienne et le modulo de 
</span></span></span><span class="line"><span class="cl"><span class="s2">    façon à pouvoir traiter tous les cas.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    On reçoit : pieces = [1, 2, 5, 10, 20]
</span></span></span><span class="line"><span class="cl"><span class="s2">    On retourne : a_rendre = [x, z, y, a, b]
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">a_rendre</span> <span class="o">=</span> <span class="p">[]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">nbre</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">//</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">somme</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">%</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">a_rendre</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nbre</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre_2</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]):</span>
</span></span><span class="line"><span class="cl">    <span class="n">a_rendre</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="n">somme</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">nbre</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">//</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">somme</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">%</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">a_rendre</span><span class="p">[</span><span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span> <span class="o">=</span> <span class="n">nbre</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">a_rendre</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre_3</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">    <span class="n">a_rendre</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="k">while</span> <span class="n">somme</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">nbre</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">//</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">somme</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">%</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">        <span class="n">a_rendre</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">nbre</span>
</span></span><span class="line"><span class="cl">        <span class="n">i</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">))</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Code complet</strong>
    </summary>
<p>Le code se trouve à :
<a class="remote" href="#ZgotmplZ" target="_blank">cette adresse</a></p>
</details>
<hr />
<h2 id="algorithme-de-force-brute">Algorithme de force brute</h2>
<ol>
<li>On note $nb$ le nombre de pièces à rendre, prises dans la liste des pièces $p = [1, 2, 5, 10, 20, 50, 100, 200, 500]$, lorsque la somme à rendre est $x$.<br>
Écrire la relation de récurrence que doit vérifier $nb$.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>$$
nb(x) =
\begin{cases}
0 &amp; \text{ si } x = 0\cr
1 + nb(x - p[i]) &amp; \text{ si } x - p[i] \geqslant 0  \cr
\end{cases}
$$</p>
</details>
<hr />
<ol start="2">
<li>En fait, on cherche le nombre minimal de pièces à rendre pour la somme $x$.
Adapter la relation de récurrence.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>$$
nb(x) =
\begin{cases}
0 &amp; \text{ si } x = 0\cr
1 + \min{(nb(x - p[i]))} &amp; \text{ si } x - p[i] \geqslant 0 \text{ et } i \in [0, \text{len}(p)[ \cr
\end{cases}
$$</p>
</details>
<hr />
<ol start="3">
<li>Écrire le schéma des appels récursifs pour $x=11$ et $p=[2,5,10]$.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<img src="../../../terminales-nsi/chap-14/chap-14-2/chap-14-2-1.svg" alt="" width="100%" />
</details>
<hr />
<ol start="4">
<li>Indiquer l&rsquo;avantage et l&rsquo;inconvénient de l&rsquo;algorithme par Brute Force.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>Cet algorithme retourne une solution optimale mais calcule plusieurs fois les mêmes valeurs. Il est donc inutilisable si la valeur à retourner est importante.</p>
</details>
<hr />
<ol start="5">
<li>Réfléchir au code de la fonction dont la spécification est :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine le nombre minimal de pièces
</span></span></span><span class="line"><span class="cl"><span class="s2">    à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Algorithme récursif.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>Écrire le code de cette fonction.</p>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine le nombre minimal de pièces
</span></span></span><span class="line"><span class="cl"><span class="s2">    à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Algorithme récursif.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">a_rendre</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nb_min</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">a_rendre</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">nb</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span> <span class="o">-</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">nb</span> <span class="o">&lt;=</span> <span class="n">nb_min</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">nb_min</span> <span class="o">=</span> <span class="n">nb</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">nb_min</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<ol start="6">
<li>Tester le code pour une somme à rendre de 13 puis de 130. Le résultat confirme-t-il la réponse à la question 4 ?</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Code complet</strong>
    </summary>
<p>Le code se trouve à :
<a class="remote" href="#ZgotmplZ" target="_blank">cette adresse</a></p>
</details>
<hr />
<h3 id="compléments">Compléments</h3>
<ol start="7">
<li>On souhaite maintenant écrire le code de la fonction <code>pieces_a_rendre</code> dont la spécification est :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">pieces</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">serie</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">series</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine toutes les combinaisons de pièces qui permettent de rendre la somme somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">    pieces est le tuple des pièces disponibles.
</span></span></span><span class="line"><span class="cl"><span class="s2">    series est la liste des pièces à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">    series est la liste des listes des pièces à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h4 id="remarque">Remarque</h4>
<p>On peut bien sur créer une fonction enveloppe qui ne prendrait que la somme et la liste des pièces disponibles en argument et retournerait la liste des listes de pièces.</p>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">pieces_a_rendre</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                   <span class="n">pieces</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">serie</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                   <span class="n">series</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">]])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine toutes les combinaisons de pièces qui permettent de rendre la somme somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">somme</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">series</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">serie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="kc">None</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">piece</span> <span class="o">&gt;</span> <span class="n">somme</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">continue</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="c1"># Sauvegarde de la liste des pièces pour le retour arrière</span>
</span></span><span class="line"><span class="cl">        <span class="n">serie_sauv</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">serie</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="n">serie</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">piece</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">        <span class="n">pieces_a_rendre</span><span class="p">(</span><span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span><span class="p">,</span> <span class="n">pieces</span><span class="p">,</span> <span class="n">serie</span><span class="p">,</span> <span class="n">series</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">        <span class="n">serie</span> <span class="o">=</span> <span class="n">serie_sauv</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<ol start="8">
<li>
<p>Tester le code pour une somme à rendre de 13 puis de 130. Obtient-on rapidement un résultat pour cette dernière valeur ?</p>
</li>
<li>
<p>Comment déterminer le nombre minimum de pièces à retourner ?</p>
</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<p>Le nombre minimum de pièces est égal à la plus petite longueur des listes éléments de la liste <code>series</code>.</p>
</details>
<hr />
<h2 id="programmation-dynamique-mémoïsation">Programmation dynamique (mémoïsation)</h2>
<ol>
<li>Rappeler quel est l&rsquo;objectif de la programmation dynamique.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="note tip">
  <p>La <strong>programmation dynamique</strong>, comme la méthode <strong>diviser-pour-régner</strong>, <em>résout des problèmes en combinant des solutions de sous-problèmes</em>.</p>
<ul>
<li><em>Les algorithmes <strong>diviser-pour-régner</strong> partitionnent le problème en sous-problèmes indépendants qu’ils résolvent récursivement, puis combinent leurs solutions pour résoudre le problème initial</em>.</li>
<li><em>La <strong>programmation dynamique</strong>, quant à elle, peut s’appliquer même lorsque les sous-problèmes ne sont pas indépendants</em>, c’est-à-dire lorsque des sous-problèmes ont des sous-sous-problèmes communs.
Dans ce cas, un algorithme diviser-pour-régner fait plus de travail que nécessaire, en résolvant plusieurs fois le sous-sous-problème commun. Un algorithme de programmation dynamique <strong>résout chaque sous-sous-problème une seule fois et mémorise sa réponse dans un tableau</strong>, évitant ainsi le recalcul de la solution chaque fois que le sous-sous-problème est rencontré.</li>
</ul>
<p>La programmation dynamique est, en général, appliquée aux <strong>problèmes d’optimisation</strong>. Dans ce type de problèmes, il peut y avoir de nombreuses solutions possibles. Chaque solution a une valeur, et on souhaite trouver une solution ayant la <strong>valeur optimale</strong> (<strong>minimale</strong> ou <strong>maximale</strong>). Une telle solution est une solution optimale au problème, et non pas la solution optimale, puisqu’il peut y avoir plusieurs solutions qui donnent la valeur optimale.</p>
</div>
</details>
<hr />
<ol start="2">
<li>Le manque d&rsquo;efficacité de la méthode force brute a pour origine les multiples calculs redondants. Mettre en œuvre la méthode de <strong>mémoïsation</strong> afin d&rsquo;améliorer l&rsquo;efficacité du code de la fonction <code>nb_rendre</code>.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine le nombre minimal de pièces
</span></span></span><span class="line"><span class="cl"><span class="s2">    à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Algorithme récursif avec mémoïsation.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">dic_a_rendre</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">dic</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        Version mémoïsée de la fonction nb_rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">a_rendre</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">dic</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">            <span class="n">nb_min</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">pieces</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">a_rendre</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">nb</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">_nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span> <span class="o">-</span> <span class="n">pieces</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">pieces</span><span class="p">,</span> <span class="n">dic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">nb</span> <span class="o">&lt;=</span> <span class="n">nb_min</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">nb_min</span> <span class="o">=</span> <span class="n">nb</span>
</span></span><span class="line"><span class="cl">            
</span></span><span class="line"><span class="cl">            <span class="n">dic</span><span class="p">[</span><span class="n">a_rendre</span><span class="p">]</span> <span class="o">=</span> <span class="n">nb_min</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">dic</span><span class="p">[</span><span class="n">a_rendre</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">_nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">,</span> <span class="n">dic_a_rendre</span><span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Code complet</strong>
    </summary>
<p>Le code se trouve à :
<a class="remote" href="#ZgotmplZ" target="_blank">cette adresse</a></p>
</details>
<hr />
<h2 id="programmation-dynamique-méthode-tabulaire">Programmation dynamique (méthode tabulaire)</h2>
<ol>
<li>Rappeler quel est l&rsquo;objectif de la programmation dynamique.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="note tip">
  <p>La <strong>programmation dynamique</strong>, comme la méthode <strong>diviser-pour-régner</strong>, <em>résout des problèmes en combinant des solutions de sous-problèmes</em>.</p>
<ul>
<li><em>Les algorithmes <strong>diviser-pour-régner</strong> partitionnent le problème en sous-problèmes indépendants qu’ils résolvent récursivement, puis combinent leurs solutions pour résoudre le problème initial</em>.</li>
<li><em>La <strong>programmation dynamique</strong>, quant à elle, peut s’appliquer même lorsque les sous-problèmes ne sont pas indépendants</em>, c’est-à-dire lorsque des sous-problèmes ont des sous-sous-problèmes communs.
Dans ce cas, un algorithme diviser-pour-régner fait plus de travail que nécessaire, en résolvant plusieurs fois le sous-sous-problème commun. Un algorithme de programmation dynamique <strong>résout chaque sous-sous-problème une seule fois et mémorise sa réponse dans un tableau</strong>, évitant ainsi le recalcul de la solution chaque fois que le sous-sous-problème est rencontré.</li>
</ul>
<p>La programmation dynamique est, en général, appliquée aux <strong>problèmes d’optimisation</strong>. Dans ce type de problèmes, il peut y avoir de nombreuses solutions possibles. Chaque solution a une valeur, et on souhaite trouver une solution ayant la <strong>valeur optimale</strong> (<strong>minimale</strong> ou <strong>maximale</strong>). Une telle solution est une solution optimale au problème, et non pas la solution optimale, puisqu’il peut y avoir plusieurs solutions qui donnent la valeur optimale.</p>
</div>
</details>
<hr />
<!--
2. On note $nb[i][j]$ le *nombre optimal de pièces à rendre pour une somme à rendre* $j$ et $i$ types de pièces.
Ce nombre est vérifie la relation de récurrence :
$$
    nb[i][j] =
    \begin{cases}
    0 & \text{ si } j = 0\cr
    0 & \text{ si } i = 0\cr
    min(nb[i-1][j] ; 1 + nb[i][j - \text{piece}[i]]) & \text{ si } j - \text{pieces}[i] \geqslant 0  \cr
    nb[i-1][j] & \text{ si } j - \text{pieces}[i] < 0 \cr
    \end{cases}
$$

    Justifier cette relation.

3. Représenter le tableau $nb$ pour une somme à rendre de 12 euros.

4. Quelle est le nombre de pièces optimal en utilisant la programmation dynamique ?

5. Écrire le code de la fonction `sol_dynamique` dont la spécification est :

```python
def construction_nb(somme: int, pieces: List[int]) -> List[List[int]]:
    """
    Construit le tableau dynamique nb définit par la relation de récurrence donnée.
    """
```

6. Quelle est la complexité de cet algorithme ?

7. À partir du tableau de la question 8, indiquer comment retrouver le découpage conduisant à la solution.

7. Écrire la fonction `recherche_sol` dont la spécification est :

```python
def recherche_sol(somme: int, pieces: List[int], nb: List[List[int]]) -> Tuple[int, Dict[int: int]]:
    """
    Recherche la solution et toutes les pièces à rendre pour cette solution.
    La valeur retournée a pour forme (somme, {piece: nombre})
    """
```


<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Code complet</strong>
    </summary>
    

Le code se trouve à : 
<a class="remote" href="#ZgotmplZ" target="_blank">cette adresse</a>




</details>
<hr />



-->
<ol start="2">
<li>Le manque d&rsquo;efficacité de la méthode force brute a pour origine les multiples calculs redondants. Mettre en œuvre la méthode de <strong>ascendante</strong> afin d&rsquo;améliorer l&rsquo;efficacité du code de la fonction <code>nb_rendre</code>.</li>
</ol>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Réponse</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">nb_rendre</span><span class="p">(</span><span class="n">a_rendre</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Détermine le nombre minimal de pièces
</span></span></span><span class="line"><span class="cl"><span class="s2">    à rendre.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Algorithme itératif, méthode ascendante.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">nbres</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)]</span> <span class="o">*</span> <span class="p">(</span><span class="n">a_rendre</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>  <span class="c1"># Tableau des valeurs</span>
</span></span><span class="line"><span class="cl">    <span class="n">nbres</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">somme</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">nbres</span><span class="p">)):</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="p">(</span><span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">nbres</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">nbres</span><span class="p">[</span><span class="n">sommes</span><span class="p">],</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">nbres</span><span class="p">[</span><span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span><span class="p">])</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">nbres</span><span class="p">[</span><span class="n">a_rendre</span><span class="p">]</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />
<h2 id="en-résumé">En résumé</h2>
<hr />
<details style="background-color: #f2f2f2;">
    <summary>
        <strong> Rendu de monnaie - Nombre de pièces à rendre - Toutes les méthodes</strong>
    </summary>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">Les mille et unes façon de rendre la monnaie.
</span></span></span><span class="line"><span class="cl"><span class="s2">&#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">glouton</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Retourne le nombre de pièces nécessaires pour 
</span></span></span><span class="line"><span class="cl"><span class="s2">    rendre la monnaie pour somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Méthode gloutonne, pièces est censé être trié
</span></span></span><span class="line"><span class="cl"><span class="s2">    dans le sens décroissant.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">nbre</span> <span class="o">=</span> <span class="mi">0</span>  <span class="c1"># nombre de pièces à rendre</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">nbre</span> <span class="o">+=</span> <span class="n">somme</span> <span class="o">//</span> <span class="n">piece</span>
</span></span><span class="line"><span class="cl">        <span class="n">somme</span> <span class="o">=</span> <span class="n">somme</span> <span class="o">%</span> <span class="n">piece</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">nbre</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">force_brute</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Retourne le nombre de pièces nécessaires pour 
</span></span></span><span class="line"><span class="cl"><span class="s2">    rendre la monnaie pour somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Méthode force brute.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">somme</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nbre_min</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">if</span> <span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">nbre_new</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">force_brute</span><span class="p">(</span><span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">nbre_new</span> <span class="o">&lt;</span> <span class="n">nbre_min</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">nbre_min</span> <span class="o">=</span> <span class="n">nbre_new</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">nbre_min</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">memoisation</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span>
</span></span><span class="line"><span class="cl">                <span class="n">memo</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span> <span class="mi">0</span><span class="p">})</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Retourne le nombre de pièces nécessaires pour 
</span></span></span><span class="line"><span class="cl"><span class="s2">    rendre la monnaie pour somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Programmation dynamique : mémoïsation.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="k">if</span> <span class="n">somme</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">memo</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">nbre_min</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="k">if</span> <span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="n">nbre_new</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">memoisation</span><span class="p">(</span><span class="n">somme</span> <span class="o">-</span> <span class="n">piece</span><span class="p">,</span> <span class="n">pieces</span><span class="p">,</span> <span class="n">memo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">nbre_new</span> <span class="o">&lt;</span> <span class="n">nbre_min</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">nbre_min</span> <span class="o">=</span> <span class="n">nbre_new</span>
</span></span><span class="line"><span class="cl">        <span class="n">memo</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span> <span class="o">=</span> <span class="n">nbre_min</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">memo</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">tabulaire</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">    Retourne le nombre de pièces nécessaires pour 
</span></span></span><span class="line"><span class="cl"><span class="s2">    rendre la monnaie pour somme.
</span></span></span><span class="line"><span class="cl"><span class="s2">
</span></span></span><span class="line"><span class="cl"><span class="s2">    Programmation dynamique : méthode tabulaire.
</span></span></span><span class="line"><span class="cl"><span class="s2">    Fonction enveloppe.
</span></span></span><span class="line"><span class="cl"><span class="s2">    &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">nbre_pour_somme</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="s1">&#39;inf&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">somme</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)]</span>
</span></span><span class="line"><span class="cl">    <span class="n">nbre_pour_somme</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">def</span> <span class="nf">_tabulaire</span><span class="p">(</span><span class="n">somme</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">pieces</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="n">nbre_pour_somme</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34;
</span></span></span><span class="line"><span class="cl"><span class="s2">        Mise en œuvre de la méthode tabulaire.
</span></span></span><span class="line"><span class="cl"><span class="s2">        &#34;&#34;&#34;</span>
</span></span><span class="line"><span class="cl">        <span class="k">for</span> <span class="n">somme_a_rendre</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">somme</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">            <span class="k">for</span> <span class="n">piece</span> <span class="ow">in</span> <span class="n">pieces</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                <span class="k">if</span> <span class="n">somme_a_rendre</span> <span class="o">-</span> <span class="n">piece</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">                    <span class="n">nbre</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">nbre_pour_somme</span><span class="p">[</span><span class="n">somme_a_rendre</span> <span class="o">-</span> <span class="n">piece</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">                    <span class="k">if</span> <span class="n">nbre</span> <span class="o">&lt;</span> <span class="n">nbre_pour_somme</span><span class="p">[</span><span class="n">somme_a_rendre</span><span class="p">]:</span>
</span></span><span class="line"><span class="cl">                        <span class="n">nbre_pour_somme</span><span class="p">[</span><span class="n">somme_a_rendre</span><span class="p">]</span> <span class="o">=</span> <span class="n">nbre</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">        <span class="k">return</span> <span class="n">nbre_pour_somme</span><span class="p">[</span><span class="n">somme</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">_tabulaire</span><span class="p">(</span><span class="n">somme</span><span class="p">,</span> <span class="n">pieces</span><span class="p">,</span> <span class="n">nbre_pour_somme</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">somme_a_rendre</span> <span class="o">=</span> <span class="mi">60</span>
</span></span><span class="line"><span class="cl">    <span class="n">pieces</span> <span class="o">=</span> <span class="p">[</span><span class="mi">25</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nbres_pieces</span> <span class="o">=</span> <span class="n">glouton</span><span class="p">(</span><span class="n">somme_a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s2">&#34;Méthode gloutonne pour rendre </span><span class="si">{</span><span class="n">somme_a_rendre</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">nbres_pieces</span><span class="si">}</span><span class="s2"> pieces.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nbres_pieces</span> <span class="o">=</span> <span class="n">force_brute</span><span class="p">(</span><span class="n">somme_a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s2">&#34;Méthode force-brute pour rendre </span><span class="si">{</span><span class="n">somme_a_rendre</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">nbres_pieces</span><span class="si">}</span><span class="s2"> pieces.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nbres_pieces</span> <span class="o">=</span> <span class="n">memoisation</span><span class="p">(</span><span class="n">somme_a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s2">&#34;Méthode mémoïsation pour rendre </span><span class="si">{</span><span class="n">somme_a_rendre</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">nbres_pieces</span><span class="si">}</span><span class="s2"> pieces.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">nbres_pieces</span> <span class="o">=</span> <span class="n">tabulaire</span><span class="p">(</span><span class="n">somme_a_rendre</span><span class="p">,</span> <span class="n">pieces</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s2">&#34;Méthode tabulaire pour rendre </span><span class="si">{</span><span class="n">somme_a_rendre</span><span class="si">}</span><span class="s2"> : </span><span class="si">{</span><span class="n">nbres_pieces</span><span class="si">}</span><span class="s2"> pieces.&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div></details>
<hr />


        
        <div class="blog-tags">
          
          <a href="https://dlatreyte.github.io//tags/programmation-dynamique/">Programmation dynamique</a>&nbsp;
          
        </div>
        

        
        <hr />
        <section id="social-share">
          <div class="list-inline footer-links">
            
          </div>
        </section>
        

        
        
        
        <h4 class="see-also">Suggestions de lecture :</h4>
        <ul>
          
          <li><a href="../../../terminales-nsi/programmation-dynamique/1-suite-fibonacci/">Autour de la suite de Fibonacci</a></li>
          
        </ul>
        
        
      </article>


      
      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="https://dlatreyte.github.io/terminales-nsi/programmation-dynamique/1-suite-fibonacci/" data-toggle="tooltip" data-placement="top"
            title="Autour de la suite de Fibonacci">&larr; Post précédent</a>
        </li>
        
        
        <li class="next">
          <a href="https://dlatreyte.github.io/terminales-nsi/programmation-dynamique/3-decoupe-corde/" data-toggle="tooltip" data-placement="top"
            title="Découpe d&#39;une corde">Post suivant &rarr;</a>
        </li>
        
      </ul>
      


      
      
      
      

    </div>
  </div>
</div>

    
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          <li>
            <a href="mailto:david.latreyte@louismassignon.com" title="Email me">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://github.com/DLatreyte" title="GitHub">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/@DLatreyte" title="Twitter">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://linkedin.com/in/latreyte-david-917852b2" title="LinkedIn">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a href="https://www.instagram.com/agdavgablou" title="Instagram">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
          
          <a href="https://dlatreyte.github.io">David Latreyte</a>
          
          

          &nbsp;&bull;&nbsp;&copy;
          
          2024
          

          
          &nbsp;&bull;&nbsp;
          <a href="https://dlatreyte.github.io/">Accueil</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Carbure avec <a href="https://gohugo.io">Hugo v0.135.0</a>&nbsp;&bull;&nbsp; Avec le Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapté de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://code.jquery.com/jquery-1.12.4.min.js"
  integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
  integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://dlatreyte.github.io/%20js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js"
  integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js"
  integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://dlatreyte.github.io/%20js/load-photoswipe.js"></script>









<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/katex.min.js"
  integrity="sha512-CLi3JK94v6TUcogbWv4WT4xnfp6B8AET4PuBjGxXo5MZJ9xfNgMHgXaXH8QJe6JwN+kGxqR4//z8/2BYVnxRVw=="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/auto-render.min.js"
  integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg=="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/copy-tex.min.js"
  integrity="sha512-cQxSkTM4RvFAjdBeBDkrllhYfERwZWjM/oijKfPsmhR0JI2U3fXSlbUaJp5SlgBh/FzYmMyWudRTXLnNj3MbEA=="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/mathtex-script-type.min.js"
  integrity="sha512-MBhOGY4yRA2eATtRGTcrDJCRqcnLai5+uu47GA2ueVr1MPzirC/iogLWRA8CXTlOTK09VI4fdTe4qE4LBfjsHw=="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/mhchem.min.js"
  integrity="sha512-V1hl0fnOXW6Cdqe5ZVqtw8TBpJVpu3XRDRQti96j/04+tMarPrCdXEUE3UdfvfKYTpOn9DV4zEZBVr0HhDiuiQ=="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.2/contrib/render-a11y-string.min.js"
  integrity="sha512-qBnQA4Y+OVTc4fPEzp5saII5ofAVDJQO6pMq9/VLm49xHvWsvRP4awjMq8U97bgalhahBEevp9HSsPo7B8JNcA=="
  crossorigin="anonymous"></script>
<script>
  renderMathInElement(document.body,
    {
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false }
      ]
    }
  );

  var inlineMathArray = document.querySelectorAll("script[type='math/tex']");
  for (var i = 0; i < inlineMathArray.length; i++) {
    var inlineMath = inlineMathArray[i];
    var tex = inlineMath.innerText || inlineMath.textContent;
    var replaced = document.createElement("span");
    replaced.innerHTML = katex.renderToString(tex, { displayMode: false });
    inlineMath.parentNode.replaceChild(replaced, inlineMath);
  }

  var displayMathArray = document.querySelectorAll("script[type='math/tex; mode=display']");
  for (var i = 0; i < displayMathArray.length; i++) {
    var displayMath = displayMathArray[i];
    var tex = displayMath.innerHTML;
    var replaced = document.createElement("span");
    replaced.innerHTML = katex.renderToString(tex.replace(/%.*/g, ''), { displayMode: true });
    displayMath.parentNode.replaceChild(replaced, displayMath);
  }

</script>

    
  </body>
</html>


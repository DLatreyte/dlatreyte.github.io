<!DOCTYPE html>
<html lang="fr" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Modules et exceptions - Accueil</title>
  <meta name="description" content="Chapitre 2,1">
  <meta name="author" content="David Latreyte"/><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Accueil",
    
    "url": "https:\/\/dlatreyte.github.io"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/dlatreyte.github.io"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/dlatreyte.github.io\/terminales-nsi\/chap-2\/1-modules\/",
          "name": "Modules et exceptions"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : "David Latreyte"
  },
  "headline": "Modules et exceptions",
  "description" : "Ce chapitre se concentre sur les modules de Python et sur les modalités d\u0026rsquo;importation des données des modules dans l\u0026rsquo;environnement de travail.\nL\u0026rsquo;objectif de ce document est de souligner l\u0026rsquo;importance d\u0026rsquo;un code modulaire, c\u0026rsquo;est à dire d\u0026rsquo;un code qui :\n puisse être utilisé dans plusieurs programmes ; puisse être documenté précisément ; soit suffisamment compact pour être étudié avec soin et en particulier testé.   Qu\u0026rsquo;est-ce qu\u0026rsquo;un module ?",
  "inLanguage" : "fr",
  "wordCount":  2015 ,
  "datePublished" : "2020-09-15T05:06:32",
  "dateModified" : "2020-09-15T05:06:32",
  "image" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
  "keywords" : [ "Modules, Exceptions" ],
  "mainEntityOfPage" : "https:\/\/dlatreyte.github.io\/terminales-nsi\/chap-2\/1-modules\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/dlatreyte.github.io",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/dlatreyte.github.io\/first_page.jpg",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="Modules et exceptions" />
<meta property="og:description" content="Chapitre 2,1">
<meta property="og:image" content="https://dlatreyte.github.io/first_page.jpg" />
<meta property="og:url" content="https://dlatreyte.github.io/terminales-nsi/chap-2/1-modules/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Accueil" />

  <meta name="twitter:title" content="Modules et exceptions" />
  <meta name="twitter:description" content="Chapitre 2,1">
  <meta name="twitter:image" content="https://dlatreyte.github.io/first_page.jpg" />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@@DLatreyte" />
  <meta name="twitter:creator" content="@@DLatreyte" />
  <link href='https://dlatreyte.github.io/img/favicon.ico' rel='icon' type='image/x-icon'/>
  <meta name="generator" content="Hugo 0.92.0" />
  <link rel="alternate" href="https://dlatreyte.github.io/index.xml" type="application/rss+xml" title="Accueil"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://dlatreyte.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/syntax.css" /><link rel="stylesheet" href="https://dlatreyte.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">




  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://dlatreyte.github.io">Accueil</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Infos" href="../../../about/infos">Infos</a>
            </li>
          
        
          
            <li>
              <a title="Blog" href="../../../">Blog</a>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Cours</a>
              <div class="navlinks-children">
                
                  <a href="../../../premieres-pc">1ère Spé. PC</a>
                
                  <a href="../../../premieres-nsi">1ère Spé. NSI</a>
                
                  <a href="../../../terminales-pc">Terminale Spé. PC</a>
                
                  <a href="../../../terminales-nsi">Terminale Spé. NSI</a>
                
                  <a href="../../../terminales-es">Terminale Ens. Scientifique</a>
                
                  <a href="../../../superieur">... dans le supérieur</a>
                
              </div>
            </li>
          
        
          
            <li class="navlinks-container">
              <a class="navlinks-parent">Culture</a>
              <div class="navlinks-children">
                
                  <a href="../../../culture">Articles</a>
                
                  <a href="../../../programmation">Programmation</a>
                
              </div>
            </li>
          
        
          
            <li>
              <a title="Catégories" href="../../../categories">Catégories</a>
            </li>
          
        
          
            <li>
              <a title="Tags" href="../../../tags">Tags</a>
            </li>
          
        

        

        
      </ul>
    </div>

    
      <div class="avatar-container">
        <div class="avatar-img-border">
          <a title="Accueil" href="https://dlatreyte.github.io">
            <img class="avatar-img" src="https://dlatreyte.github.io/first_page.jpg" alt="Accueil" />
          </a>
        </div>
      </div>
    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="terminales-nsi-heading">
              
                <h1>Modules et exceptions</h1>
              
              
                <hr class="small">
              
              
                
                  <h2 class="terminales-nsi-subheading">Chapitre 2,1</h2>
                
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      <article role="main" class="blog-post" auto_numbering >
          
            <nav id="TableOfContents">
  <ul>
    <li><a href="#quest-ce-quun-modulenbsp">Qu&rsquo;est-ce qu&rsquo;un module ?</a></li>
    <li><a href="#modules-et-fichiers">Modules et fichiers</a></li>
    <li><a href="#chemin-de-recherche-et-recherche-de-fichiers">Chemin de recherche et recherche de fichiers</a></li>
    <li><a href="#portée-des-variables-et-espaces-de-noms">Portée des variables et espaces de noms</a></li>
    <li><a href="#import-de-modules">Import de modules</a>
      <ul>
        <li><a href="#linstruction-import">L&rsquo;instruction <code>import</code></a></li>
        <li><a href="#lexpression-from--import-">L&rsquo;expression from &hellip; import &hellip;</a></li>
        <li><a href="#linstruction-import--as-">L&rsquo;instruction import &hellip; as &hellip;</a></li>
        <li><a href="#import-vs-chargement">Import vs chargement</a></li>
        <li><a href="#exemple-de-création-dun-module">Exemple de création d&rsquo;un module</a></li>
      </ul>
    </li>
    <li><a href="#mécanisme-de-gestion-des-exceptions">Mécanisme de gestion des exceptions</a>
      <ul>
        <li></li>
      </ul>
    </li>
    <li><a href="#application">Application</a></li>
  </ul>
</nav>
          
        
        <hr />

        <p>Ce chapitre se concentre sur les modules de Python et sur les modalités
d&rsquo;importation des données des modules dans l&rsquo;environnement de travail.</p>
<div class="note tip">
  <p>L&rsquo;objectif de ce document est de souligner l&rsquo;importance d&rsquo;un <strong>code modulaire</strong>,
c&rsquo;est à dire d&rsquo;un code qui :</p>
<ul>
<li>puisse être <em>utilisé dans plusieurs programmes</em> ;</li>
<li>puisse être <em>documenté</em> précisément ;</li>
<li>soit suffisamment compact pour <em>être étudié avec soin</em> et en particulier <em>testé</em>.</li>
</ul>
</div>
<h2 id="quest-ce-quun-modulenbsp">Qu&rsquo;est-ce qu&rsquo;un module ?</h2>
<div class="note tip">
  <em>Un module permet d&rsquo;organiser logiquement le code Python</em>.
</div>
<ul>
<li>Quand la taille du code augmente, il peut être pratique de le diviser en entités organisées qui
peuvent continuer à interagir.</li>
<li>Un module permet aussi de se créer une «  boite à outils » contenant des fonctions appelées depuis
plusieurs programmes.</li>
<li>Finalement, <em>un module permet de bénéficier du travail déjà effectué, maximisant ainsi la réutilisabilité du code</em>.</li>
</ul>
<h2 id="modules-et-fichiers">Modules et fichiers</h2>
<div class="note tip">
  Si les modules représentent un moyen d&rsquo;organiser <strong>logiquement</strong> le code
Python, les fichiers permettent quant à eux d&rsquo;organiser <strong>physiquement</strong> le
code.
</div>
<p>À cette fin, <em>chaque fichier est considéré comme un module individuel,
et réciproquement</em>. <em>Le nom de fichier d&rsquo;un module est le nom du module
auquel on ajoute l&rsquo;extension</em> <code>.py</code>.</p>
<p>Un module peut contenir tout objet Python: <em>variables</em>, <em>fonctions</em>,
<em>classes</em>, $\ldots$</p>
<h2 id="chemin-de-recherche-et-recherche-de-fichiers">Chemin de recherche et recherche de fichiers</h2>
<p>L&rsquo;importation de modules requiert un processus nommé <em>chemin de recherche</em> .
C&rsquo;est une procédure de recherche dans un <em>ensemble de répertoires (dossiers) du système
de fichiers</em> &mdash; le résultat de cette recherche dépend donc de l&rsquo;installation de Python et du système d&rsquo;exploitation utilisé &mdash; pour trouver le fichier module:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">sys</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="s1">&#39;/Users/mats/anaconda/lib/python35.zip&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/plat-darwin&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/lib-dynload&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/site-packages&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/site-packages/Sphinx-1.3.1-py3.5.egg&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/site-packages/aeosa&#39;</span><span class="p">,</span> 
<span class="s1">&#39;/Users/mats/anaconda/lib/python3.5/site-packages/setuptools-19.4-py3.5.egg&#39;</span><span class="p">]</span>
</code></pre></td></tr></table>
</div>
</div><p>Dans le cas où la recherche d&rsquo;un module échoue, une exception est levée par
l&rsquo;interpréteur :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">xxx</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&#34;&lt;stdin&gt;&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="s1">&#39;xxx&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>Puisque le <em>chemin de recherche</em> consiste à construire une liste de
répertoires (dossiers), il est possible de la modifier. La méthode de liste <code>append()</code>
permet d&rsquo;importer un module situé dans un répertoire absent du chemin de
recherche:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/home/utilisateur/dossier-modules&#39;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="note warning">
  Il n&rsquo;est pas nécessaire de modifier le <em>chemin de recherche</em> si le <strong>fichier
module</strong> se trouve <em>dans le même répertoire</em> que le fichier source
contenant le code qui importe le module.
</div>
<h2 id="portée-des-variables-et-espaces-de-noms">Portée des variables et espaces de noms</h2>
<div class="note tip">
  <p>La <em>portée</em> d&rsquo;un identificateur est la portion du programme à laquelle sa
déclaration s&rsquo;applique. On emploie également le terme de <em>visibilité</em> .</p>
<p><em>Les variables définies dans une fonction ont une <strong>portée locale</strong>, celles
définies au plus haut niveau d&rsquo;un module ont une <strong>portée globale</strong></em>.</p>
</div>
<div class="note tip">
  Les <strong>variables globales</strong> présentent une caractéristique notable : <em>à moins
qu&rsquo;elles n&rsquo;aient été détruites, leur durée de vie est égale à celle du
script qui s&rsquo;exécute</em>. En revanche, les <strong>variables locales</strong>, comme le <strong>bloc de
pile</strong> dans lequel elles résident, <em>sont temporaires et ne
«  vivent » que le temps pendant lequel les fonctions dans
lesquelles elles sont définies sont actives</em>.
</div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">chaine_globale</span> <span class="o">=</span> <span class="s2">&#34;Salut&#34;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">bonjour</span><span class="p">():</span>
<span class="err">…</span>     <span class="n">chaine_locale</span> <span class="o">=</span> <span class="s2">&#34;la planète&#34;</span>
<span class="err">…</span>     <span class="nb">print</span><span class="p">(</span><span class="n">chaine_globale</span> <span class="o">+</span> <span class="n">chaine_locale</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">bonjour</span><span class="p">()</span>
<span class="n">Salut</span> <span class="n">la</span> <span class="n">planète</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">chaine_locale</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&#34;&lt;stdin&gt;&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;chaine_locale&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
</code></pre></td></tr></table>
</div>
</div><img src="../../../terminales-nsi/chap-2/fig-2-1-1.jpg" alt="" width="80%" />
> Durée de vie des variables locales et globales.
<div class="note warning">
  Dans le cas où une variable locale porte le même nom qu&rsquo;une variable
globale, c&rsquo;est la variable locale qui est utilisée. <em>Python cherche d&rsquo;abord
dans l&rsquo;espace de nom local avant de chercher dans l&rsquo;espace de nom global.</em>
</div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="n">chaine</span> <span class="o">=</span> <span class="s2">&#34;Bonjour&#34;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">au_revoir</span><span class="p">():</span>
<span class="err">…</span>     <span class="n">chaine</span> <span class="o">=</span> <span class="s2">&#34;Au revoir&#34;</span>
<span class="err">…</span>     <span class="nb">print</span><span class="p">(</span><span class="n">chaine</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">au_revoir</span><span class="p">()</span>
<span class="n">Au</span> <span class="n">revoir</span>
</code></pre></td></tr></table>
</div>
</div><p>Il est donc possible de «  masquer » une variable globale, en utilisant une
variable locale de même nom.</p>
<div class="note normal">
  <em>Lorsque l&rsquo;interpréteur Python importe un module, les règles de portée
s&rsquo;appliquent : si l&rsquo;import se situe au niveau du module, sa portée est globale,
s&rsquo;il se situe dans une fonction, sa portée est locale</em>.
</div>
<h2 id="import-de-modules">Import de modules</h2>
<h3 id="linstruction-import">L&rsquo;instruction <code>import</code></h3>
<div class="note tip">
  <p>L&rsquo;import d&rsquo;un module nécessite l&rsquo;emploi de l&rsquo;instruction <code>import</code>. La syntaxe
est la suivante :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
<p>Il est possible d&rsquo;importer plusieurs modules :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
</code></pre></td></tr></table>
</div>
</div><p>Lorsque l&rsquo;interpréteur rencontre un <code>import</code>, le chemin de recherche est
utilisé pour accéder au module. Si celui-ci est trouvé, il est importé. Comme annoncé ci-dessus, les
règles de portée s&rsquo;appliquent : <em>si l&rsquo;import se situe au niveau du module, sa
portée est <strong>globale</strong>, s&rsquo;il se situe dans une fonction, sa portée est <strong>locale</strong>.</em></p>
<div class="note warning">
  L&rsquo;appel import amène le module dans l&rsquo;espace de nom, pas les objets qu&rsquo;il
contient. La notation <code>.</code> doit être utilisée afin d&rsquo;utiliser ces objets.
</div>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;name&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
<span class="n">posix</span>
</code></pre></td></tr></table>
</div>
</div><div class="note tip">
  <h4 id="comment-accéder-à-la-liste-des-objets-contenus-dans-un-modulenbsp">Comment accéder à la liste des objets contenus dans un module ?</h4>
<p>On peut utiliser la fonction <code>dir</code> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">(</span><span class="n">os</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
<div class="note tip">
  <h4 id="comment-obtenir-laide-dun-modulenbsp">Comment obtenir l&rsquo;aide d&rsquo;un module ?</h4>
<p>On peut utiliser la fonction <code>help</code> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">os</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">help</span><span class="p">(</span><span class="n">os</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
<img src="../../../terminales-nsi/chap-2/fig-2-1-2.jpg" alt="" width="80%" />
> Résultat de l'importation du module `os`. Aucune référence à l'attribut `name` n'existe dans l'espace de nom global.
<h4 id="comment-obtenir-la-liste-de-tous-les-modules-importés-par-un-programmenbsp">Comment obtenir la liste de tous les modules importés par un programme ?</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="nb">dir</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="lexpression-from--import-">L&rsquo;expression from &hellip; import &hellip;</h3>
<div class="note tip">
  <p>Il est possible d&rsquo;importer des objets particuliers d&rsquo;un module dans le
programme. <strong>L&rsquo;objet appartient alors réellement à l&rsquo;espace de nom du
programme</strong>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="n">name</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="n">posix</span>
</code></pre></td></tr></table>
</div>
</div>
</div>
<h4 id="remarque">Remarque</h4>
<p>Ce type d&rsquo;import peut présenter de réels dangers dans un programme dont le nombre de lignes est important et dont le développement s&rsquo;effectue sur une longue durée. <em>Que se passe-t-il si, dans le programme principal, un attribut ou
une fonction portent le même nom que l&rsquo;élément importé ?</em></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">sinc</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="o">...</span>     <span class="k">return</span> <span class="s1">&#39;coucou&#39;</span><span class="o">*</span><span class="n">x</span>
<span class="o">...</span> 
<span class="o">&gt;&gt;&gt;</span> <span class="n">sinc</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="s1">&#39;coucoucoucoucoucou&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">pylab</span> <span class="kn">import</span> <span class="n">sinc</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">sinc</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">-</span><span class="mf">3.8981718325193755e-17</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="remarque-1">Remarque</h4>
<p>Il existe une façon encore plus dangereuse d&rsquo;utiliser l&rsquo;expression <code>from ... import ...</code> :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">os</span> <span class="kn">import</span> <span class="o">*</span>
</code></pre></td></tr></table>
</div>
</div><p><em>Tous les objets contenus dans le module sont alors ajoutés à l&rsquo;espace de nom
globale du programme.</em></p>
<div class="note warning">
  Éviter le plus possible la forme d&rsquo;importation : <code>from nom_module import *</code> !
</div>
<h3 id="linstruction-import--as-">L&rsquo;instruction import &hellip; as &hellip;</h3>
<p>Il arrive que l&rsquo;on souhaite importer un module ou un attribut de module
portant un nom déjà employé dans l&rsquo;application, ou que ce nom ne convienne
pas parce qu&rsquo;il est trop long. On peut changer le nom lié localement du module
et procéder ensuite comme avec le nom complet :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="import-vs-chargement">Import vs chargement</h3>
<div class="note tip">
  Un module n&rsquo;est <em>incorporé dans l&rsquo;espace de nom global</em> qu&rsquo;une seule fois, quel que soit le nombre de fois
où il est <em>importé</em>.
</div>
<h3 id="exemple-de-création-dun-module">Exemple de création d&rsquo;un module</h3>
<ol>
<li>Dans le fichier <code>demo.py</code> :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="s2">&#34;&#34;&#34;
</span><span class="s2">Un module de démonstration.
</span><span class="s2">&#34;&#34;&#34;</span>

<span class="c1"># Fonctions du module</span>
<span class="k">def</span> <span class="nf">b</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Affiche b.
</span><span class="s2">    &#34;&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="s2">&#34;b&#34;</span>

<span class="k">def</span> <span class="nf">a</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="s2">&#34;&#34;&#34;Affiche a.&#34;&#34;&#34;</span>
    <span class="k">return</span> <span class="s2">&#34;a&#34;</span>

<span class="c1"># Attributs (variables) du module</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">d</span> <span class="o">=</span> <span class="mi">2</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>              <span class="c1"># test des fonctions du module</span>
    <span class="k">assert</span>  <span class="n">b</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&#34;b&#34;</span>                  <span class="c1"># place des assert</span>
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>Dans l&rsquo;interpréteur intéractif, lancé depuis le dossier dans lequel on a enregistré le module <code>demo.py</code> :</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="kn">import</span> <span class="nn">demo</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">demo</span><span class="o">.</span><span class="n">b</span><span class="p">())</span>
<span class="s2">&#34;b&#34;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="nb">print</span><span class="p">(</span><span class="n">demo</span><span class="o">.</span><span class="n">c</span><span class="p">)</span>
<span class="mi">2</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="mécanisme-de-gestion-des-exceptions">Mécanisme de gestion des exceptions</h2>
<p>Lorsqu&rsquo;un problème intervient lors de l&rsquo;exécution d&rsquo;un programme (division
par zéro, tentative d&rsquo;ouverture d&rsquo;un fichier qui n&rsquo;existe pas, erreur de
syntaxe, etc.), l&rsquo;interpréteur passe dans un mode particulier dans lequel
il stoppe l&rsquo;exécution du programme en cours et affiche une erreur :</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="mi">7</span> <span class="o">/</span> <span class="mi">0</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="ne">ZeroDivisionError</span><span class="p">:</span> <span class="n">integer</span> <span class="n">division</span> <span class="ow">or</span> <span class="n">modulo</span> <span class="n">by</span> <span class="n">zero</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;monfichier.txt&#39;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="ne">IOError</span><span class="p">:</span> <span class="p">[</span><span class="n">Errno</span> <span class="mi">2</span><span class="p">]</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span><span class="p">:</span> <span class="s1">&#39;monfichier.txt&#39;</span>

<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">message</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="ne">NameError</span><span class="p">:</span> <span class="n">name</span> <span class="s1">&#39;message&#39;</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">defined</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coucou !&#39;</span><span class="p">)</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
<span class="n">File</span> <span class="s2">&#34;tm_python&#34;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">1</span>

<span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Coucou !&#39;</span><span class="p">)</span>
                   <span class="o">^</span>
<span class="ne">SyntaxError</span><span class="p">:</span> <span class="n">invalid</span> <span class="n">syntax</span>
</code></pre></td></tr></table>
</div>
</div><div class="note tip">
  <h4 id="message-derreur">Message d&rsquo;erreur</h4>
<p>Le message affiché contient le <code>traceback</code>, c&rsquo;est à dire la pile d&rsquo;appel &mdash; le chemin parcouru par l&rsquo;interpréteur pour atteindre l&rsquo;erreur (soit la liste des fonctions traversées pour atteindre l&rsquo;erreur).<br>
Ce message comporte le <strong>type d&rsquo;exception</strong> levée (<code>ZeroDivisionError</code>, <code>IOError</code>, <code>NameError</code>, <code>SyntaxError</code>, etc.)  et un <strong>message</strong> qui décrit le problème rencontré.
</div>
<h4 id="remarque-2">Remarque</h4>
<p>Dans le cas d&rsquo;une erreur de syntaxe, <em>le message d&rsquo;erreur indique même où est
détectée l&rsquo;erreur à l&rsquo;aide d&rsquo;une flèche</em> (en fait, elle se trouve
généralement juste avant l&rsquo;endroit pointé par la flèche).</p>
<div class="note tip">
  Pour éviter que le programme ne se termine définitivement ou qu&rsquo;il se
termine sans que la raison n&rsquo;en soit explicite, il est conseillé de <strong>gérer
les exceptions</strong>.
</div>
<h4 id="exemplenbsp-gestion-des-entrées-du-clavier">Exemple : Gestion des entrées du clavier</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&#34;Entrer un nombre entier :&#34;</span><span class="p">))</span>
        <span class="k">break</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Oups ! Ce n&#39;est pas un nombre. Nouvelle tentative&#34;</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><div class="note tip">
  <p>Le gestion des exceptions repose sur quelques mots clés : <code>try</code>, <code>except</code>, <code>else</code>
et <code>finally</code> et sur une liste de types d&rsquo;exceptions dont la liste peut être
consultée dans la <a href="https://docs.python.org/3.8/library/exceptions.html#bltin-exceptions">documentation en ligne de Python</a> :</p>
<ul>
<li><code>try</code> : le bloc de code qui suit ce mot clé est exécuté séquentiellement.
En cas de problème, l&rsquo;exécution est interrompue et l&rsquo;interpréteur passe au
bloc d&rsquo;instructions suivant le mot clé except.</li>
<li><code>except NomErreur</code> : ce bloc d&rsquo;instructions est exécuté si une erreur a
été détectée dans le bloc try et si son type correspond à NomErreur.
Plusieurs clauses except peuvent être utilisées. Il n&rsquo;est pas nécessaire
d&rsquo;indiquer le type de l&rsquo;erreur (tous les types sont alors traités de façon
identique).</li>
<li><code>else</code> : cette directive permet d&rsquo;isoler dans la partie try la ou les
instructions qui peuvent poser problème. Toutes les instructions suivantes
(qui ne doivent donc être exécutées que si aucun problème intervient)
peuvent être placées dans le bloc else.</li>
<li><code>finally</code> : le bloc qui suit est exécuté dans tous les cas de figure, qu&rsquo;une
exception ait été levée ou pas. C&rsquo;est donc ici que l&rsquo;on peut s&rsquo;assurer
qu&rsquo;un fichier ouvert dans le bloc try est correctement fermé, quoi qu&rsquo;il
arrive.</li>
</ul>
</div>
<h4 id="exemplenbsp-prise-en-compte-de-plusieurs-erreurs">Exemple : Prise en compte de plusieurs erreurs</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">try</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;fichier.txt&#34;</span><span class="p">,</span> <span class="s1">&#39;r&#39;</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readline</span><span class="p">()</span>
        <span class="n">i</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">except</span> <span class="ne">IOError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;I/O Erreur : </span><span class="si">{0}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">err</span><span class="p">))</span>
    <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Je ne suis pas parvenu à convertir en entier la donnée.&#34;</span><span class="p">)</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="utilisation-de-else">Utilisation de else.</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">try</span><span class="p">:</span>
        <span class="n">f</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;fichier.txt&#34;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">IOError</span><span class="o">&amp;</span><span class="n">nbsp</span><span class="p">;:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Je ne parviens pas à lire le fichier.&#34;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">n</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Le fichier comporte </span><span class="si">{0}</span><span class="s2"> lignes.&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">n</span><span class="p">))</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><h4 id="les-exceptions-dans-la-définition-dune-fonction">Les exceptions dans la définition d&rsquo;une fonction.</h4>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">def</span> <span class="nf">division</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">resultat</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="n">y</span>
    <span class="k">except</span> <span class="ne">ZeroDivisionError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Division par zero !&#34;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Le resultat est </span><span class="si">{0}</span><span class="s2">&#34;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">resultat</span><span class="p">))</span>
    <span class="k">finally</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&#34;Je suis toujours présent !&#34;</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">division</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">Le</span> <span class="n">resultat</span> <span class="n">est</span> <span class="mi">2</span>
<span class="n">Je</span> <span class="n">suis</span> <span class="n">toujours</span> <span class="n">présent</span> <span class="err">!</span>

<span class="o">&gt;&gt;&gt;</span> <span class="n">division</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
<span class="n">Division</span> <span class="n">par</span> <span class="n">zero</span> <span class="err">!</span>
<span class="n">Je</span> <span class="n">suis</span> <span class="n">toujours</span> <span class="n">présent</span> <span class="err">!</span>
</code></pre></td></tr></table>
</div>
</div><p>Tout fichier manipulé doit être correctement fermé. Il n&rsquo;est donc pas
envisageable d&rsquo;utiliser la fonction <code>open</code> sans gérer les exceptions. Utiliser
les instructions <code>try</code>, <code>except</code> et <code>finally</code> peut cependant apparaître
contre-productif (cela fait beaucoup de code pour une action courante). <code>with</code>
permet de manipuler les fichiers en étant certain qu&rsquo;ils seront fermés
correctement, <em>quoi qu&rsquo;il arrive</em>.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="o">&gt;&gt;&gt;</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&#34;fichier.txt&#34;</span><span class="p">,</span><span class="s1">&#39;r&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">ligne</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="n">ligne</span><span class="p">)</span>
</code></pre></td></tr></table>
</div>
</div><h2 id="application">Application</h2>
<div class="note exercise">
  <ol>
<li>
<p>Écrire un module nommé <code>convert_temp</code> contenant les fonctions réalisant les conversions entre des températures exprimées en degrés Celsius, degrés Fahrenheit et Kelvin :  <code>C2F</code>, <code>F2C</code>, <code>C2K</code>, <code>K2C</code>, <code>F2K</code> and <code>K2F</code>.</p>
</li>
<li>
<p>Appeler ces fonctions depuis un autre programme.</p>
</li>
</ol>
</div>


        
          <div class="blog-tags">
            
              <a href="https://dlatreyte.github.io/tags/modules/">Modules</a>&nbsp;
            
              <a href="https://dlatreyte.github.io/tags/exceptions/">Exceptions</a>&nbsp;
            
          </div>
        

        
            <hr/>
            <section id="social-share">
              <div class="list-inline footer-links">
                
              </div>
            </section>
        

        
          
          
          <h4 class="see-also">Voir également</h4>
          <ul>
          
            <li><a href="../../../terminales-nsi/chap-2/2-capitalisation/">Capitalisation d&#39;une valeur</a></li>
          
          </ul>
          
        
      </article>


      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://dlatreyte.github.io/terminales-nsi/chap-2/2-capitalisation/" data-toggle="tooltip" data-placement="top" title="Capitalisation d&#39;une valeur">&larr; Post précédent</a>
            </li>
          
          
            <li class="next">
              <a href="https://dlatreyte.github.io/terminales-nsi/chap-2/3-exercices/" data-toggle="tooltip" data-placement="top" title="Exercices">Post suivant &rarr;</a>
            </li>
          
        </ul>
      


      
        
        
      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
              <li>
                <a href="mailto:david.latreyte@louismassignon.com" title="Email me">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://github.com/DLatreyte" title="GitHub">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://twitter.com/@DLatreyte" title="Twitter">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-twitter fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://linkedin.com/in/latreyte-david-917852b2" title="LinkedIn">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-linkedin fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
              <li>
                <a href="https://www.instagram.com/agdavgablou" title="Instagram">
                  <span class="fa-stack fa-lg">
                    <i class="fas fa-circle fa-stack-2x"></i>
                    <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                  </span>
                </a>
              </li>
          
          <li>
            <a href="" title="RSS">
              <span class="fa-stack fa-lg">
                <i class="fas fa-circle fa-stack-2x"></i>
                <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          
        </ul>
        <p class="credits copyright text-muted">
          
            
              <a href="https://dlatreyte.github.io">David Latreyte</a>
            
          

          &nbsp;&bull;&nbsp;&copy;
          
            2022
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://dlatreyte.github.io">Accueil</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Carbure avec <a href="https://gohugo.io">Hugo v0.92.0</a>&nbsp;&bull;&nbsp; Avec le Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapté de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://dlatreyte.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://dlatreyte.github.io/js/load-photoswipe.js"></script>









<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/copy-tex.min.js" integrity="sha512-DJT2Gf9zoglFWNuxgFcMZ3zi9Ra9GPDxpw9/8kyQ6cji+SOaLlV1A49Its53eLZlGfb4WjwRCptEUdNju6Wxgw==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/mathtex-script-type.min.js" integrity="sha512-2c9WyrhBiLmhhuJeAEmai4Uh9O+bjCRVsKaFkbj2vCLsJ3aTI0Bx2r0+gRPiqjnmNKATzzsjQGgmQXXEOERmmQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/mhchem.min.js" integrity="sha512-ndr34OWlb/uvrgXcrqKXv4YUB42kRFQi9cJ+s+alNEvNBKYyIlO970xmSWYV3vNKsrT1rwW/leiBEaZxcCwjwA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/render-a11y-string.min.js" integrity="sha512-SqjsWHpIJhclCK0YMrCV7qCKarjj6qF9ViYOldWgdJtELSOG+Jth6iKNhdMSwRAPNzKgGsU7jiE1B6YdK967tw==" crossorigin="anonymous"></script>
<script>
  renderMathInElement(document.body,
    {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "$", right: "$", display: false}
        ]
    }
  );

  var inlineMathArray = document.querySelectorAll("script[type='math/tex']");
  for (var i = 0; i < inlineMathArray.length; i++) {
      var inlineMath = inlineMathArray[i];
      var tex = inlineMath.innerText || inlineMath.textContent;
      var replaced = document.createElement("span");
      replaced.innerHTML = katex.renderToString(tex, {displayMode: false});
      inlineMath.parentNode.replaceChild(replaced, inlineMath);
  }

  var displayMathArray = document.querySelectorAll("script[type='math/tex; mode=display']");
  for (var i = 0; i < displayMathArray.length; i++) {
      var displayMath = displayMathArray[i];
      var tex = displayMath.innerHTML;
      var replaced = document.createElement("span");
      replaced.innerHTML = katex.renderToString(tex.replace(/%.*/g, ''), {displayMode: true});
      displayMath.parentNode.replaceChild(replaced, displayMath);
  }

</script>


    
  </body>
</html>

